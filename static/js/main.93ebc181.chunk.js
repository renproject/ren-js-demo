(this["webpackJsonpren-js-example"]=this["webpackJsonpren-js-example"]||[]).push([[0],{1010:function(t,e){},1027:function(t,e){},1029:function(t,e){},1061:function(t,e){},1157:function(t,e){},1197:function(t,e){},1287:function(t,e){},1292:function(t,e){},1297:function(t,e){},1344:function(t,e){},1351:function(t,e){},1372:function(t,e){},1379:function(t,e){},1380:function(t,e){},1390:function(t,e){},1416:function(t,e){},156:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return l}));var r=n(6);const a={chain:"main",isTestnet:!1,chainLabel:"Mainnet",networkID:1,infura:"https://mainnet.infura.io",etherscan:"https://etherscan.io"},s={chain:"kovan",isTestnet:!0,chainLabel:"Kovan",networkID:42,infura:"https://kovan.infura.io",etherscan:"https://kovan.etherscan.io"},c=Object(r.a)(Object(r.a)({name:"Mainnet"},a),{},{addresses:{GatewayRegistry:"0xe80d347DF1209a76DD9d2319d62912ba98C54DDD",BasicAdapter:"0x32666B64e9fD0F44916E1378Efb2CFa3B3B96e80"}}),o=Object(r.a)(Object(r.a)({name:"Testnet"},s),{},{addresses:{GatewayRegistry:"0x557e211EC5fc9a6737d2C6b7a1aDe3e0C11A8D5D",BasicAdapter:"0x7DDFA2e5435027f6e13Ca8Db2f32ebd5551158Bb"}}),i=Object(r.a)(Object(r.a)({name:"Devnet v0.3"},s),{},{addresses:{GatewayRegistry:"0x5045E727D9D9AcDe1F6DCae52B078EC30dC95455",BasicAdapter:"0xFABDB1F53Ef8B080332621cBc9F820a39e7A1B83"}}),u=Object(r.a)(Object(r.a)({name:"Testnet v0.3"},s),{},{addresses:{GatewayRegistry:"0x557e211EC5fc9a6737d2C6b7a1aDe3e0C11A8D5D",BasicAdapter:"0x7DDFA2e5435027f6e13Ca8Db2f32ebd5551158Bb"}}),l=Object(r.a)(Object(r.a)({name:"Mainnet v0.3"},a),{},{addresses:{GatewayRegistry:"0x503670EC851C55EC1aCFB5230192da921467a24e",BasicAdapter:"0xAe65b0f676313Fd715F29D07538d1dc8557f2b1A"}})},1560:function(t,e){},1562:function(t,e){},157:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return r}));var r,a=n(87),s=n(6),c=n(1),o=n.n(c),i=n(3),u=n(7),l=n(4),p=n(55),d=n(382),b=n(192);class m extends p.EventEmitter{constructor(t,e,n={}){var c;super(),c=this,this.deposits=Object(d.b)(),this.confirmationTarget=Object(i.a)(o.a.mark((function t(){var e,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(l.s)(c._state.targetConfirmations)){t.next=2;break}return t.abrupt("return",c._state.targetConfirmations);case 2:if(!(n=c.renVM.getConfirmationTarget)){t.next=7;break}return t.next=6,Object(l.A)(Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(c._state.selector,c.params.from));case 1:case"end":return t.stop()}}),t)}))),2);case 6:e=t.sent;case 7:return r=c._state.renNetwork&&c._state.renNetwork.isTestnet?2:6,c._state.targetConfirmations=Object(l.s)(e)?e:r,t.abrupt("return",c._state.targetConfirmations);case 10:case"end":return t.stop()}}),t)}))),this._initialize=Object(i.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=c._state.renNetwork,t.t0){t.next=7;break}return t.t1=u.h,t.next=5,c.renVM.getNetwork(c._state.selector);case 5:t.t2=t.sent,t.t0=(0,t.t1)(t.t2);case 7:if(c._state.renNetwork=t.t0,c.params.from.renNetwork){t.next=11;break}return t.next=11,c.params.from.initialize(c._state.renNetwork);case 11:if(c.params.to.renNetwork){t.next=14;break}return t.next=14,c.params.to.initialize(c._state.renNetwork);case 14:if(t.t3=c.params.to.getMintParams,!t.t3){t.next=19;break}return t.next=18,c.params.to.getMintParams(c.params.asset);case 18:t.t3=t.sent;case 19:return e=t.t3,c.params=Object(s.a)(Object(s.a)({},e),c.params),t.prev=21,t.next=24,c.generateGatewayAddress();case 24:c.gatewayAddress=t.sent,t.next=30;break;case 27:throw t.prev=27,t.t4=t.catch(21),t.t4;case 30:return c.wait().catch(console.error),t.prev=31,t.next=34,c.confirmationTarget();case 34:c._state.targetConfirmations=t.sent,t.next=40;break;case 37:t.prev=37,t.t5=t.catch(31),console.error(t.t5);case 40:return t.abrupt("return",c);case 41:case"end":return t.stop()}}),t,null,[[21,27],[31,37]])}))),this.processDeposit=function(){var t=Object(i.a)(o.a.mark((function t(e){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c._state.renNetwork&&c._state.pHash&&c._state.gHash&&c._state.gPubKey&&c.gatewayAddress){t.next=2;break}throw new Error("Gateway address must be generated before calling 'wait'.");case 2:if(n=c.params.from.transactionID(e.transaction),a=c.deposits.get(n)){t.next=9;break}return a=new h(e,c.params,c.renVM,Object(s.a)(Object(s.a)({},c._state),{},{renNetwork:c._state.renNetwork,pHash:c._state.pHash,gHash:c._state.gHash,gPubKey:c._state.gPubKey,targetConfirmations:Object(l.s)(c._state.targetConfirmations)?c._state.targetConfirmations:void 0})),t.next=8,a._initialize();case 8:(c._state.config.loadCompletedDeposits||a.status!==r.Submitted)&&(c.emit("deposit",a),c._state.logger.debug("new deposit:",e),c.deposits=c.deposits.set(n,a));case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.addListener=(t,e)=>("deposit"===t&&this.deposits.map((t=>{e(t)})),super.on(t,e),this),this.on=(t,e)=>this.addListener(t,e),this.generateGatewayAddress=Object(i.a)(o.a.mark((function t(){var e,n,r,a,s,i,u,p,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.gatewayAddress){t.next=2;break}return t.abrupt("return",c.gatewayAddress);case 2:if(e=c.params,n=e.nonce,r=e.contractCalls,n){t.next=5;break}throw new Error("Must call 'initialize' before calling 'generateGatewayAddress'.");case 5:if(r){t.next=7;break}throw new Error("Must provide contract call details.");case 7:if(a=r[r.length-1],s=a.contractParams,i=a.sendTo,!(c.renVM.version(c._state.selector)>=2)){t.next=12;break}t.t0=Object(l.b)(Object(l.r)(c._state.selector)),t.next=15;break;case 12:return t.next=14,c.params.to.resolveTokenGatewayContract(c.params.asset);case 14:t.t0=t.sent;case 15:return u=t.t0,c._state.pHash=Object(l.q)(s||[],c._state.logger),p=Object(l.o)(s||[],i,u,Object(l.l)(n),c.renVM.version(c._state.selector)>=2,c._state.logger),c._state.gHash=p,t.next=21,c.renVM.selectPublicKey(c._state.selector,c.renVM.version(c._state.selector)>=2?c.params.from.name:c.params.asset);case 21:return c._state.gPubKey=t.sent,c._state.logger.debug("gPubKey:",Object(l.b)(c._state.gPubKey)),t.next=25,c.params.from.getGatewayAddress(c.params.asset,c._state.gPubKey,p);case 25:return d=t.sent,c.gatewayAddress=d,c._state.logger.debug("gateway address:",c.gatewayAddress),t.abrupt("return",c.gatewayAddress);case 29:case"end":return t.stop()}}),t)}))),this.wait=Object(i.a)(o.a.mark((function t(){var e,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c._state.pHash&&c._state.gHash&&c._state.gPubKey&&c.gatewayAddress){t.next=2;break}throw new Error("Gateway address must be generated before calling 'wait'.");case 2:if(e=()=>0===c.listenerCount("deposit"),t.prev=4,!e()){t.next=9;break}return t.next=8,Object(l.D)(1*l.c);case 8:return t.abrupt("continue",2);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c._state.logger.error(Object(l.h)(t.t0));case 14:return n=function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.processDeposit(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=16,t.next=19,c.params.from.getDeposits(c.params.asset,c.gatewayAddress,c.getDepositsProgress,n,r,e);case 19:c.getDepositsProgress=t.sent,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(16),c._state.logger.error(Object(l.h)(t.t1));case 25:return t.next=27,Object(l.D)(c._state.config.networkDelay);case 27:t.next=2;break;case 29:case"end":return t.stop()}}),t,null,[[4,11],[16,22]])}))),this.params=e,this.renVM=t,this._state={logger:n.logger||u.b,selector:this.renVM.selector(this.params),config:Object(s.a)(Object(s.a)({},n),{},{networkDelay:n.networkDelay||15*l.c})};const p=this.params.txHash,b=this.params.nonce?Object(l.l)(this.params.nonce):Object(l.g)();this.params.nonce=b,p||(this.params.nonce=b);{const t=this.params,e=(t.to,t.from,Object(a.a)(t,["to","from"]));this._state.logger.debug("lockAndMint created:",e)}}}!function(t){t.Detected="detected",t.Confirmed="confirmed",t.Signed="signed",t.Reverted="reverted",t.Submitted="submitted"}(r||(r={}));const f={[r.Detected]:0,[r.Confirmed]:1,[r.Signed]:2,[r.Reverted]:3,[r.Submitted]:4};class h{constructor(t,e,n,c){var p=this;this._initialize=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.refreshStatus();case 2:return t.next=4,p.params.to.resolveTokenGatewayContract(p.params.asset);case 4:return p._state.token=t.sent,t.abrupt("return",p);case 6:case"end":return t.stop()}}),t)}))),this.txHash=()=>this._state.txHash,this.queryTx=Object(i.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(f[p.status]>=f[r.Signed]&&p._state.queryTxResult)){t.next=2;break}return t.abrupt("return",p._state.queryTxResult);case 2:return t.next=4,p.renVM.queryMintOrBurn(p._state.selector,Object(l.k)(p.txHash()));case 4:return e=t.sent,p._state.queryTxResult=e,e.out&&void 0!==e.out.revert?(p.status=r.Reverted,p.revertReason=e.out.revert.toString()):e.out&&e.out.signature&&f[p.status]<f[r.Signed]&&(p.status=r.Signed),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)}))),this.refreshStatus=Object(i.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.queryTx();case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e=null;case 9:return t.prev=9,t.next=12,p.findTransaction();case 12:if(void 0===t.sent){t.next=15;break}return t.abrupt("return",r.Submitted);case 15:t.next=19;break;case 17:t.prev=17,t.t1=t.catch(9);case 19:if(t.prev=19,void 0!==e){t.next=26;break}return t.next=23,p.queryTx();case 23:t.t2=t.sent,t.next=27;break;case 26:t.t2=e;case 27:if(!(e=t.t2)||e.txStatus!==u.f.TxStatusDone){t.next=35;break}if(!e.out||void 0===e.out.revert){t.next=34;break}p.status=r.Reverted,p.revertReason=e.out.revert.toString(),t.next=35;break;case 34:return t.abrupt("return",r.Signed);case 35:t.next=39;break;case 37:t.prev=37,t.t3=t.catch(19);case 39:return t.prev=39,t.next=42,p.confirmations();case 42:if(!((n=t.sent).current>=n.target)){t.next=45;break}return t.abrupt("return",r.Confirmed);case 45:t.next=49;break;case 47:t.prev=47,t.t4=t.catch(39);case 49:return t.abrupt("return",r.Detected);case 50:case"end":return t.stop()}}),t,null,[[0,6],[9,17],[19,37],[39,47]])})))();case 2:return e=t.sent,p.status=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),this.confirmations=Object(i.a)(o.a.mark((function t(){var e,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.params.from.transactionConfidence(p.depositDetails.transaction);case 2:return e=t.sent,n=e.current,r=e.target,t.abrupt("return",{current:n,target:Object(l.s)(p._state.targetConfirmations)?p._state.targetConfirmations:r});case 6:case"end":return t.stop()}}),t)}))),this.confirmationTarget=Object(i.a)(o.a.mark((function t(){var e,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(l.s)(p._state.targetConfirmations)){t.next=2;break}return t.abrupt("return",p._state.targetConfirmations);case 2:if(!(n=p.renVM.getConfirmationTarget)){t.next=7;break}return t.next=6,Object(l.A)(Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(p._state.selector,p.params.from));case 1:case"end":return t.stop()}}),t)}))),2);case 6:e=t.sent;case 7:return r=p._state.renNetwork&&p._state.renNetwork.isTestnet?2:6,p._state.targetConfirmations=e||r,t.abrupt("return",p._state.targetConfirmations);case 10:case"end":return t.stop()}}),t)}))),this.confirmed=()=>{const t=Object(u.i)();return Object(i.a)(o.a.mark((function e(){var n,a,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,p.confirmationTarget();case 4:e.t1=e.sent,e.t0.emit.call(e.t0,"target",e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),p._state.logger.error(e.t2);case 11:n=()=>f[p.status]>=f[r.Confirmed]||p._state.queryTxResult&&u.g[p._state.queryTxResult.txStatus]>=u.g[u.f.TxStatusPending],a=0,s=0;case 14:if(t._isCancelled()||n()){e.next=48;break}if(a%5!==0){e.next=29;break}if(e.prev=16,p._state.renTxSubmitted){e.next=20;break}return e.next=20,p._submitMintTransaction();case 20:return e.next=22,p.queryTx();case 22:if(!n()){e.next=24;break}return e.abrupt("break",48);case 24:e.next=29;break;case 26:e.prev=26,e.t3=e.catch(16),p._state.logger.debug(e.t3);case 29:return e.prev=29,e.next=32,p.confirmations();case 32:if(c=e.sent,(i=0===c.target?1:c.current/c.target)>s&&(s=i,t.emit("confirmation",c.current,c.target)),!(i>=1)){e.next=37;break}return e.abrupt("break",48);case 37:p._state.logger.debug("deposit confidence: ".concat(c.current," / ").concat(c.target)),e.next=43;break;case 40:e.prev=40,e.t4=e.catch(29),p._state.logger.error("Error fetching transaction confidence: ".concat(Object(l.h)(e.t4)));case 43:return e.next=45,Object(l.D)(p._state.config.networkDelay);case 45:a+=1,e.next=14;break;case 48:return f[p.status]<f[r.Confirmed]&&(p.status=r.Confirmed),e.abrupt("return",p);case 50:case"end":return e.stop()}}),e,null,[[0,8],[16,26],[29,40]])})))().then(t.resolve).catch(t.reject),t},this.signed=()=>{const t=Object(u.i)();return Object(i.a)(o.a.mark((function e(){var n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.txHash(),p.status!==r.Reverted){e.next=3;break}throw new Error(p.revertReason||"RenVM transaction ".concat(n," reverted."));case 3:if(!(f[p.status]>=f[r.Signed]&&p._state.queryTxResult&&p._state.queryTxResult.out)){e.next=5;break}return e.abrupt("return",p);case 5:return t.emit("txHash",n),p._state.logger.debug("RenVM txHash:",n),e.prev=7,e.next=10,p._submitMintTransaction();case 10:n=e.sent,e.next=41;break;case 13:return e.prev=13,e.t0=e.catch(7),e.prev=15,e.next=18,p.queryTx();case 18:if((a=e.sent).txStatus!==u.f.TxStatusNil){e.next=21;break}throw new Error("Transaction ".concat(n," has not been submitted previously."));case 21:n=a.hash,e.next=41;break;case 24:if(e.prev=24,e.t1=e.catch(15),s=!1,e.t1.code!==u.c.RenVMTransactionNotFound){e.next=38;break}if(e.t0.code!==u.c.AmountTooSmall&&e.t0.code!==u.c.DepositSpentOrNotFound){e.next=34;break}throw p.status=r.Reverted,p.revertReason=String((e.t0||{}).message).replace(/Node returned status \d+ with reason: /,""),new Error(p.revertReason);case 34:return e.next=36,Object(l.A)(Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p._submitMintTransaction());case 1:case"end":return t.stop()}}),t)}))),2,5*l.c);case 36:n=e.sent,s=!0;case 38:if(p._state.logger.debug(e.t1),s){e.next=41;break}throw e.t0;case 41:return e.next=43,p.renVM.waitForTX(p._state.selector,Object(l.k)(n),(e=>{t.emit("status",e),p._state.logger.debug("transaction status:",e)}),(()=>t._isCancelled()),p._state.config.networkDelay);case 43:if(c=e.sent,p._state.queryTxResult=c,!c.out||void 0===c.out.revert){e.next=51;break}throw p.status=r.Reverted,p.revertReason=c.out.revert.toString(),new Error(p.revertReason);case 51:c.out&&c.out.signature&&(f[p.status]<f[r.Signed]&&(p.status=r.Signed),p._state.logger.debug("signature:",c.out&&c.out.signature));case 52:return e.abrupt("return",p);case 53:case"end":return e.stop()}}),e,null,[[7,13],[15,24]])})))().then(t.resolve).catch(t.reject),t},this.findTransaction=Object(i.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p._state.queryTxResult&&p._state.queryTxResult.out&&void 0===p._state.queryTxResult.out.revert?p._state.queryTxResult.out.sighash:void 0,t.next=3,p.params.to.findTransaction(p.params.asset,p._state.nHash,e);case 3:return p.mintTransaction=t.sent,t.abrupt("return",p.mintTransaction);case 5:case"end":return t.stop()}}),t)}))),this.mint=t=>{const e=Object(u.i)();return Object(i.a)(o.a.mark((function n(){var a,c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p._state.queryTxResult){n.next=2;break}throw new Error("Unable to submit to Ethereum without signature. Call 'signed' first.");case 2:return a=Object.keys(t||{}).map((e=>({name:e,value:(t||{})[e]}))),c=(c=Object(l.u)(p.params.contractCalls||[],{contractParams:a})).map((t=>Object(s.a)(Object(s.a)({},t),{},{contractParams:t.contractParams?t.contractParams.filter((t=>!t.onlyInPayload)):t.contractParams}))),i=p.params.asset,n.next=8,p.params.to.submitMint(i,c,p._state.queryTxResult,e);case 8:return p.mintTransaction=n.sent,p.status=r.Submitted,n.abrupt("return",p.mintTransaction);case 11:case"end":return n.stop()}}),n)})))().then(e.resolve).catch(e.reject),e},this._submitMintTransaction=Object(i.a)(o.a.mark((function t(){var e,n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p._state.token){t.next=3;break}throw new Error("Deposit object must be initialized.");case 3:if(n=p.txHash(),!p._state.renTxSubmitted){t.next=6;break}return t.abrupt("return",n);case 6:if(!p._state.renTxSubmitted){t.next=8;break}return t.abrupt("return",n);case 8:return t.next=10,p.renVM.submitMint(Object(s.a)(Object(s.a)({},p._state),{},{token:e}));case 10:return r=t.sent,a=p.renVM.version(p._state.selector)>=2?Object(l.H)(r):Object(l.F)(r),p._state.renTxSubmitted=!0,a!==n&&p._state.logger.warn("Unexpected txHash returned from RenVM. Received: ".concat(a,", expected: ").concat(n)),p._state.renTxSubmitted=!0,t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)}))),this.validateParams=()=>{Object(l.e)({from:"object",to:"object",contractCalls:"any[]",asset:"string",txHash:"string | undefined",nonce:"Buffer | string | undefined",tags:"string[] | undefined"},{params:this.params}),this.params.contractCalls&&this.params.contractCalls.map((t=>{Object(l.f)("string",{sendTo:t.sendTo,contractFn:t.contractFn})}))},Object(l.e)({transaction:"any",amount:"string"},{depositDetails:t}),Object(l.e)({selector:"string",logger:"object",renNetwork:"object",gPubKey:"Buffer",gHash:"Buffer",pHash:"Buffer",targetConfirmations:"number | undefined",config:"object"},{state:c}),this.depositDetails=t,this.params=e,this.renVM=n,this.status=r.Detected;const d=this.params,m=d.txHash,h=d.contractCalls,g=d.nonce;if(!g)throw new Error("No nonce passed in to LockAndMintDeposit.");if(!m&&(!h||!h.length))throw new Error("Must provide Ren transaction hash or contract call details.");this.validateParams();const x=this.depositDetails,j=this.params.txHash?Object(l.z)(this.params.txHash,this.renVM.version(c.selector)>=2):void 0;if(!g)throw new Error("Unable to submit to RenVM without nonce.");if(!h||!h.length)throw new Error("Unable to submit to RenVM without contract call details.");const k=h[h.length-1],w=k.contractParams,v=k.sendTo,y=k.contractFn,O=w?w.filter((t=>!t.notInPayload)):w,E=(new b.AbiCoder).encodeParameters((O||[]).map((t=>t.type)),(O||[]).map((t=>t.value)));if(this.params.tags&&this.params.tags.length>1)throw new Error("Providing multiple tags is not supported yet.");const T=c.pHash,C=this.params.from.transactionRPCFormat(this.depositDetails.transaction,n.version(c.selector)>=2),N=Object(l.p)(Object(l.l)(g),C.txid,C.txindex,n.version(c.selector)>=2),B=n.version(c.selector)>=2?"":this.params.from.depositV1HashString(x),M=Object(l.x)(y,O||[]),D=this.params.tags&&this.params.tags.length?[this.params.tags[0]]:[];if(this._state=Object(s.a)(Object(s.a)({},c),{},{nHash:N,nonce:Object(l.l)(g),output:this.params.from.transactionRPCFormat(x.transaction,n.version(c.selector)>=2),amount:x.amount,payload:Object(l.l)(E),pHash:T,to:n.version(c.selector)>=2?Object(l.E)(v):Object(l.b)(v),fn:y,fnABI:M,tags:D,txHash:"",renTxSubmitted:!1}),this._state.txHash=(n.version(this._state.selector)>=2?l.H:l.F)(this.renVM.mintTxHash(Object(s.a)(Object(s.a)({},this._state),{},{outputHashFormat:B}))),j&&!Object(l.k)(j).equals(Object(l.k)(this.txHash())))throw new Error("Inconsistent RenVM transaction hash: got ".concat(j," but expected ").concat(this.txHash(),"."));{const e=this.params,n=(e.to,e.from,Object(a.a)(e,["to","from"]));this._state.logger.debug("LockAndMintDeposit created",t,n)}}}},1583:function(t,e){},1628:function(t,e){},1639:function(t,e){},1643:function(t,e){},1670:function(t,e,n){"use strict";n.r(e);var r=n(5),a=(n(832),n(0)),s=n.n(a),c=n(84),o=n(247),i=n(1),u=n.n(i),l=n(3),p=n(17),d=n(85),b=n(790),m=n(16),f=n(30),h=n(794),g=n.n(h),x=n(254),j=n(18),k=n.n(j),w=n(66),v=n(53);const y=[{inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"}],O={getBalance:function(){var t=Object(l.a)(u.a.mark((function t(e,n,r){var a,s,c,o,i,l,p,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new g.a(n),s=Object(w.b)(e,r,w.a.isTestnet),x.c[s],t.next=5,a.eth.getAccounts();case 5:return c=t.sent[0],t.next=8,Object(v.b)(e,n,r).getTokenContractAddress(r);case 8:return o=t.sent,i=new a.eth.Contract(y,o),t.next=12,i.methods.decimals().call();case 12:return l=t.sent,t.next=15,i.methods.balanceOf(c).call();case 15:return p=t.sent,d=new k.a(p).div(new k.a(10).exponentiatedBy(new k.a(l).toNumber())).toFixed(4,k.a.ROUND_DOWN),t.abrupt("return",d);case 18:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),addressIsValid:t=>!(!t||!t.match(/(^0x[A-Fa-f0-9]{40}$)|(^.*\.eth$)/))};var E=n(383),T=n(384),C=n(124);let N;!function(t){t.BURNT="Burnt",t.DONE="Done",t.ERROR="Error"}(N||(N={}));const B=function(){var t=Object(l.a)(u.a.mark((function t(e,n,r,a,s,c,o,i){var l,p,d,b,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a,t.next=t.t0===f.a.BTC?3:t.t0===f.a.ZEC?5:t.t0===f.a.BCH?7:t.t0===f.a.FIL?9:t.t0===f.a.DGB?11:t.t0===f.a.LUNA?13:t.t0===f.a.DOGE?15:17;break;case 3:return l=Object(C.a)().Address(s),t.abrupt("break",18);case 5:return l=Object(C.e)().Address(s),t.abrupt("break",18);case 7:return l=Object(C.b)().Address(s),t.abrupt("break",18);case 9:return l=Object(E.a)().Address(s),t.abrupt("break",18);case 11:return l=Object(C.c)().Address(s),t.abrupt("break",18);case 13:return l=Object(T.a)().Address(s),t.abrupt("break",18);case 15:return l=Object(C.d)().Address(s),t.abrupt("break",18);case 17:throw new Error("Unsupported asset ".concat(a,"."));case 18:return t.next=20,l.initialize(w.a);case 20:if(!l.utils.addressIsValid||l.utils.addressIsValid(s)){t.next=22;break}throw new Error("Invalid recipient address ".concat(s));case 22:return t.t1=new k.a(c),t.t2=new k.a(10),t.next=26,l.assetDecimals(a);case 26:return t.t3=t.sent,t.t4=t.t2.exponentiatedBy.call(t.t2,t.t3),p=t.t1.times.call(t.t1,t.t4).toFixed(),d=Object(v.b)(n,r,a,o,p),t.next=32,e.burnAndRelease({asset:a,from:d,to:l});case 32:return b=t.sent,t.next=35,b.burn().on("confirmation",(t=>{m&&i(m,{confirmations:t,targetConfs:15})}));case 35:return t.next=37,b.txHash();case 37:return m=t.sent,b.release().on("status",(t=>{m&&i(m,{renVMStatus:t})})).then((()=>{m&&i(m,{status:N.DONE})})),t.abrupt("return",b);case 40:case"end":return t.stop()}}),t)})));return function(e,n,r,a,s,c,o,i){return t.apply(this,arguments)}}(),M=({asset:t,renJS:e,mintChain:n,mintChainProvider:s,balance:c,startBurn:o,connectMintChain:i,getDefaultMintChainAddress:b,addBurn:m,updateTransaction:h})=>{const g=a.useState(null),x=Object(p.a)(g,2),j=x[0],v=x[1],y=a.useState(""),O=Object(p.a)(y,2),E=O[0],T=O[1],C=a.useState(""),N=Object(p.a)(C,2),B=N[0],M=N[1],D=a.useState(!1),A=Object(p.a)(D,2),S=A[0],F=A[1],R=a.useCallback(function(){var r=Object(l.a)(u.a.mark((function r(a){var c,i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),F(!0),s){r.next=5;break}return v("Please use a Web3 browser"),r.abrupt("return");case 5:if(B){r.next=8;break}return v("Please enter a valid amount."),r.abrupt("return");case 8:if(!new k.a(B).lte(5e-5)){r.next=11;break}return v("Amount must be greater than 0.00005"),r.abrupt("return");case 11:return v(null),r.prev=12,r.t0=o,r.t1=e,r.t2=n,r.t3=s,r.t4=t,r.t5=E,r.t6=B,r.next=22,b();case 22:return r.t7=r.sent,r.t8=h,r.next=26,(0,r.t0)(r.t1,r.t2,r.t3,r.t4,r.t5,r.t6,r.t7,r.t8);case 26:return c=r.sent,r.next=29,c.txHash();case 29:i=r.sent,c.burnDetails&&m(i,c),r.next=37;break;case 33:r.prev=33,r.t9=r.catch(12),console.error(r.t9),v(String(r.t9.message||r.t9.error||JSON.stringify(r.t9)));case 37:F(!1);case 38:case"end":return r.stop()}}),r,null,[[12,33]])})));return function(t){return r.apply(this,arguments)}}(),[B,s,t,n,E,e,o,h,m,b]),P=a.useCallback((()=>{null!==c&&M(c)}),[c]);return Object(r.jsxs)("form",{onSubmit:R,children:[Object(r.jsx)("div",{className:"send",children:Object(r.jsx)("input",{value:E,onChange:t=>{T(t.target.value)},placeholder:"Recipient (".concat(w.a.isTestnet?"Testnet":""," ").concat((f.b.get(t)||{name:t.toUpperCase()}).name," address)")})}),Object(r.jsx)("div",{className:"send",children:Object(r.jsxs)("div",{className:"send",children:[Object(r.jsx)("input",{className:"no-right-border",value:B,onChange:t=>{M(t.target.value)},placeholder:"Amount"}),Object(r.jsx)("div",{role:"button",className:"box box-action box-blue ".concat(c?"":"disabled"),onClick:c?P:void 0,children:"max"}),Object(r.jsx)("div",{className:"box",children:t.toUpperCase()})]})}),Object(r.jsx)("div",{className:"send",children:s?Object(r.jsx)("button",{type:"submit",disabled:!B||!E||S,className:"button blue",children:S?Object(r.jsx)(d.a,{alt:!0}):Object(r.jsx)(r.Fragment,{children:"Burn"})}):Object(r.jsxs)("button",{type:"button",className:"button light-blue",onClick:i,children:["Connect ",n," wallet"]})}),j?Object(r.jsx)("p",{className:"box red",children:j}):Object(r.jsx)(r.Fragment,{})]})};var D=n(6),A=n(87);const S=t=>{let e=t.children,n=Object(A.a)(t,["children"]);return Object(r.jsx)("a",Object(D.a)(Object(D.a)({},n),{},{target:"_blank",rel:"noopener noreferrer",children:e}))},F=({txHash:t,burn:e,status:n,confirmations:s,targetConfs:c,renVMStatus:o,updateTransaction:i})=>{const b=e.params,m=b.asset,f=b.from,h=e.burnDetails,g=a.useState(null),x=Object(p.a)(g,1)[0],j=a.useState(!1),w=Object(p.a)(j,2),v=w[0],y=w[1],O=a.useCallback((()=>y(!0)),[y]),E=a.useState(null),T=Object(p.a)(E,2),C=T[0],B=T[1];return a.useEffect((()=>{Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t1=e.burnDetails,!t.t1){t.next=9;break}return t.t2=new k.a(e.burnDetails.amount),t.t3=new k.a(10),t.next=6,e.params.to.assetDecimals(e.params.asset);case 6:t.t4=t.sent,t.t5=t.t3.exponentiatedBy.call(t.t3,t.t4),t.t1=t.t2.div.call(t.t2,t.t5).toFixed();case 9:if(t.t0=t.t1,t.t0){t.next=12;break}t.t0=null;case 12:n=t.t0,B(n);case 14:case"end":return t.stop()}}),t)})))().catch(console.error)})),Object(r.jsxs)("div",{className:"deposit ".concat(n===N.DONE?"done":""),children:[Object(r.jsxs)("p",{children:[Object(r.jsxs)("b",{children:["Burnt"," ",C||Object(r.jsx)(d.a,{style:{display:"inline-block"}})," ",m]}),h&&h.to?Object(r.jsxs)(r.Fragment,{children:[" to ",h.to]}):null]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"RenVM Hash:"})," ",t]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Status:"})," ",n===N.BURNT?Object(r.jsxs)(r.Fragment,{children:["Submitting to RenVM..."," ",Object(r.jsx)(d.a,{style:{display:"inline-block"}})]}):n]}),n===N.BURNT&&o?Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"RenVM status:"})," ",o]}):null,n===N.BURNT&&null!==s?Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Confirmations:"})," ",s,c?Object(r.jsxs)(r.Fragment,{children:["/",c]}):Object(r.jsx)(r.Fragment,{})]}):null,h&&h.transaction?Object(r.jsxs)("p",{children:[Object(r.jsxs)("b",{children:[f.name," tx:"]})," ",f.utils.transactionExplorerLink?Object(r.jsx)(S,{href:f.utils.transactionExplorerLink(h.transaction),children:f.transactionID(h.transaction)}):h.transaction]}):null,x?Object(r.jsx)("div",{className:"red",onClick:O,children:x.length>100&&!v?Object(r.jsxs)(r.Fragment,{children:[x.slice(0,74),"..."," ",Object(r.jsx)("span",{style:{color:"darkgray",cursor:"pointer"},children:"(click for full error)"})]}):x}):null]})};var R=n(303),P=n(802),H=n(803);const V="data:image/png;base64,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",I="data:image/png;base64,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",U="data:image/png;base64,/9j/2wCEAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDIBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/AABEIADwAPAMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APf6KKKACiiigAooooAKKKKACkJABJ6Clrk4PHVnJrTWkkZjtc7Enbj5vcdh/k+2tOhUq35FexlUrQp253a5ka545uJ5jb6R+7jzjziuWf6Dt/P6VnJoPii/Xz2S5OeQZptp/InNeg2+g6Zb6lJqMNuomkHXsPUgdiay9d8ZW2k3aWsMf2iRW/fYOAg9PrXp0cTtTwlPXrc8+rh954menkcgNR8R+G51Wdp1XP3J/nRvof8AA13vh7xBDr1qzKhjniwJYzyBnoQe44NWopdP8QaXuASe2lGCp7H0PoRWddXOl+DtJCRRgMc7Iwfnkb1J/rWNarHELk9napfoa0qcqD5ue9PzOgorG8Oa+mvWTSeWY5oiBIvbnoQa2a4KlOVOThJWaO2E4zipR2YVx3ivwkLwSahp6YuRzJEP+WnuPf8AnXY0VdCvOjPngya1GFaPLI8ntPFmqWOlPp6vyPlSRvvRjuB/T0q3oXg6fV7SS7upXgR1JhyMlj/eOe3867K88K6Ze6qmoSxfOOXjH3ZD2JH+c1tAADAGAK9CrmMVH/Z48rerZwUsBJy/fu6Wx5RaX2qeD9VkhdOP44mPyyDswP8AWlsrLUfGOsPLNIdv/LSXHyxr2UD+lei6zodprdsIrlSHU5SVfvLVmwsLfTbRLW1jCRoPxJ9T6mqlmUOTnjH949L/AKiWAlzckpe4tbCadp1tpdmlraptjX82PqferVFFeRKTk7vc9RJRVkFFFFIYUUUUAFFFFABRRRQB/9k=",_=t=>{const e={1:m.RenNetwork.Mainnet,4:m.RenNetwork.Testnet,42:m.RenNetwork.Testnet}[parseInt(t)];if(!e)throw new Error("Unsupported network chain ".concat(t));return e},L={chains:{[f.c.Ethereum]:[{name:"Metamask",logo:I,connector:new R.a({debug:!0,networkIdMapper:_})},{name:"WalletConnect",logo:U,connector:new P.a({rpc:{1:"https://mainnet.infura.io/v3/".concat("8d478a67a0584ceeb2f631d106fff8cb"),3:"https://kovan.infura.io/v3/".concat("8d478a67a0584ceeb2f631d106fff8cb"),4:"https://rinkeby.infura.io/v3/".concat("8d478a67a0584ceeb2f631d106fff8cb"),42:"https://kovan.infura.io/v3/".concat("8d478a67a0584ceeb2f631d106fff8cb")},qrcode:!0,debug:!1,networkIdMapper:_})}],[f.c.Fantom]:[{name:"Metamask",logo:I,connector:new R.a({debug:!0,networkIdMapper:t=>{const e={250:m.RenNetwork.Mainnet,4002:m.RenNetwork.Testnet}[parseInt(t)];if(!e)throw new Error("Unsupported network chain ".concat(t));return e}})}],[f.c.BSC]:[{name:"BinanceSmartWallet",logo:V,connector:new H.a({debug:!0,networkIdMapper:t=>{const e={56:m.RenNetwork.Mainnet,97:m.RenNetwork.Testnet}[parseInt(t)];if(!e)throw new Error("Unsupported network chain ".concat(t));return e}})}]}},Q=({chain:t,close:e})=>Object(r.jsx)(o.WalletPickerModal,{open:null!==t,options:{targetNetwork:w.a.isTestnet?m.RenNetwork.Testnet:m.RenNetwork.Mainnet,chain:t||"",onClose:e,config:L}}),q=t=>{let e=t.children,n=Object(A.a)(t,["children"]);return Object(r.jsx)("a",Object(D.a)(Object(D.a)({},n),{},{target:"_blank",rel:"noopener noreferrer",children:e}))},z=({txHash:t,deposit:e,status:n,updateTransaction:s})=>{const c=e.params,o=c.asset,i=c.from,b=c.to,m=e.depositDetails.amount,f=a.useState(null),h=Object(p.a)(f,2),g=h[0],x=h[1],j=a.useState(!1),w=Object(p.a)(j,2),y=w[0],O=w[1],E=a.useCallback((()=>O(!0)),[O]),T=a.useState(null),C=Object(p.a)(T,2),N=C[0],B=C[1],M=a.useCallback((e=>{console.log("Step: handling status",e),s(t,{status:e})}),[s,t]),D=a.useState(null),A=Object(p.a)(D,2),S=A[0],F=A[1],R=a.useState(null),P=Object(p.a)(R,2),H=P[0],V=P[1],I=a.useCallback(((t,e)=>{console.log("Step: handle confirmation",t,e),F(t),V(e)}),[]),U=a.useState(null),_=Object(p.a)(U,2),L=_[0],Q=_[1],z=a.useState(null),K=Object(p.a)(z,2),G=K[0],J=K[1],W=a.useCallback((()=>{M(v.a.DETECTED),console.log("Step: calling handleDeposit"),Object(v.c)(e,M,V,I,Q,J).catch((t=>{console.error(t),x(String(t.message||t)),M(v.a.ERROR)}))}),[I,x,M,e,Q,J]);a.useEffect((()=>{Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Step: inside useEffect"),W(),t.next=4,i.assetDecimals(o);case 4:e=t.sent,B(new k.a(m).div(new k.a(10).exponentiatedBy(e)).toFixed());case 6:case"end":return t.stop()}}),t)})))().catch(console.error)}),[]);const Z=a.useState(!1),Y=Object(p.a)(Z,2),X=Y[0],$=Y[1],tt=a.useCallback(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),x(null),t.prev=2,t.next=5,Object(v.f)(e,M,J);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0),x(String(t.t0.message||t.t0));case 11:$(!1);case 12:case"end":return t.stop()}}),t,null,[[2,7]])}))),[$,e,M]);return Object(r.jsxs)("div",{className:"deposit ".concat(n===v.a.DONE?"done":""),children:[Object(r.jsx)("p",{children:Object(r.jsxs)("b",{children:["Received"," ",N||Object(r.jsx)(d.a,{style:{display:"inline-block"}})," ",o]})}),Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"RenVM Hash:"})," ",t]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Status:"})," ",n===v.a.CONFIRMED?Object(r.jsxs)(r.Fragment,{children:["Submitting to RenVM..."," ",Object(r.jsx)(d.a,{style:{display:"inline-block"}})]}):n]}),e.depositDetails.transaction?Object(r.jsxs)("p",{children:[Object(r.jsxs)("b",{children:[i.name," tx:"]})," ",i.utils.transactionExplorerLink?Object(r.jsx)(q,{href:i.utils.transactionExplorerLink(e.depositDetails.transaction),children:i.transactionID(e.depositDetails.transaction)}):"string"===typeof e.depositDetails.transaction?e.depositDetails.transaction:JSON.stringify(e.depositDetails.transaction)]}):null,G?Object(r.jsxs)("p",{children:[Object(r.jsxs)("b",{children:[b.name," tx:"]})," ",b.utils.transactionExplorerLink?Object(r.jsx)(q,{href:b.utils.transactionExplorerLink(G),children:G}):"string"===typeof G?G:JSON.stringify(G)]}):null,n===v.a.CONFIRMED&&L?Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"RenVM status:"})," ",L]}):null,n===v.a.DETECTED&&null!==S?Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Confirmations:"})," ",S,"/",H]}):null,n===v.a.SIGNED?Object(r.jsx)("button",{disabled:X,onClick:tt,className:"button blue",children:X?Object(r.jsx)(d.a,{}):Object(r.jsxs)(r.Fragment,{children:["Submit to ",b.name]})}):null,n===v.a.ERROR?Object(r.jsx)("button",{disabled:X,onClick:W,className:"button blue",children:"Retry"}):null,g?Object(r.jsx)("div",{className:"red",onClick:E,children:g.length>100&&!y?Object(r.jsxs)(r.Fragment,{children:[g.slice(0,74),"..."," ",Object(r.jsx)("span",{style:{color:"darkgray",cursor:"pointer"},children:"(click for full error)"})]}):g}):null]})};var K=n(804),G=n(807);var J;!function(t){t.Mint="Mint",t.Burn="Burn"}(J||(J={}));var W;W=()=>{const t=Object(o.useMultiwallet)().enabledChains,e=a.useState(f.e),n=Object(p.a)(e,2),c=n[0],i=n[1],h=a.useState(f.f),g=Object(p.a)(h,2),x=g[0],j=g[1],k=a.useMemo((()=>new b.a(w.a.isTestnet?m.RenNetwork.Testnet:m.RenNetwork.Mainnet,{logLevel:v.d})),[]),y=a.useState(null),E=Object(p.a)(y,2),T=E[0],C=E[1],A=a.useState(null),S=Object(p.a)(A,2),R=S[0],P=S[1],H=t[x]&&t[x].provider,V=a.useCallback((t=>{C(null),t&&t!==c||(P(null),H?O.getBalance(x,H,c).then(P).catch((t=>C(t.toString()))):P("?"))}),[x,H,c,P]);a.useEffect((()=>{Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V();case 1:case"end":return t.stop()}}),t)})))().catch(console.error)}),[V]);const I=a.useState(J.Mint),U=Object(p.a)(I,2),_=U[0],L=U[1],q=(t=>{const e=s.a.useState(Object(G.a)()),n=Object(p.a)(e,2),r=n[0],a=n[1],c=s.a.useCallback(((t,e)=>{a((n=>n.get(t)?n:n.set(t,{type:"MINT",deposit:e,status:v.a.DETECTED})))}),[a]),o=s.a.useCallback(((t,e)=>{a((n=>n.get(t)?n:n.set(t,{type:"BURN",burn:e,status:N.BURNT,confirmations:0,targetConfs:void 0,renVMStatus:void 0})))}),[a]),i=s.a.useCallback(((e,n)=>{a((r=>{const a=r.get(e);return a?"MINT"===a.type?(n.status===v.a.DONE&&t(a.deposit.params.asset),r.set(e,Object(D.a)(Object(D.a)({},a),n))):(n.status===N.BURNT&&t(a.burn.params.asset),r.set(e,Object(D.a)(Object(D.a)({},a),n))):r}))}),[a,t]);return{deposits:r,addDeposit:c,addBurn:o,updateTransaction:i}})(V),W=q.deposits,Z=q.addDeposit,Y=q.addBurn,X=q.updateTransaction,$=a.useState(null),tt=Object(p.a)($,2),et=tt[0],nt=tt[1],rt=a.useCallback((()=>nt(x)),[x,nt]);return Object(r.jsxs)(r.Fragment,{children:[w.a.isTestnet?Object(r.jsx)("div",{className:"box testnet-warning",children:"TESTNET"}):null,Object(r.jsxs)("div",{className:"test-environment",children:[Object(r.jsx)(d.b,{top:!0,thisToken:c,otherToken:"",allTokens:f.b,onMarketChange:i,getMarket:()=>{}},"assetSelector"),Object(r.jsx)(d.b,{top:!0,thisToken:x,otherToken:"",allTokens:f.d,onMarketChange:j,getMarket:()=>{}},"chainSelector"),Object(r.jsx)("div",{className:"box",children:H?Object(r.jsxs)(r.Fragment,{children:["Your ren",c," balance:"," ",R||Object(r.jsx)(d.a,{})," ren",c]}):Object(r.jsx)(r.Fragment,{children:"Connect to see your balance."})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"tab ".concat(_===J.Mint?"tab--selected":""),onClick:()=>L(J.Mint),children:"Mint"}),Object(r.jsx)("div",{className:"tab ".concat(_===J.Burn?"tab--selected":""),onClick:()=>L(J.Burn),children:"Burn"})]}),Object(r.jsx)("div",{className:"form-outer",children:_===J.Mint?Object(r.jsx)(K.a,{asset:c,mintChain:x,mintChainProvider:H,renJS:k,startMint:v.e,addDeposit:Z,connectMintChain:rt,getDefaultMintChainAddress:()=>t[x].account,addressIsValid:()=>!0},c+x):Object(r.jsx)(M,{asset:c,mintChain:x,mintChainProvider:t[x]&&t[x].provider,connectMintChain:rt,startBurn:B,addBurn:Y,renJS:k,balance:R,updateTransaction:X,getDefaultMintChainAddress:()=>t[x].account},c+x)}),T?Object(r.jsx)("p",{className:"box red",children:T}):Object(r.jsx)(r.Fragment,{})]}),Object(r.jsx)("div",{className:"connect-wallets",children:Object(r.jsx)(Q,{chain:et,close:()=>nt(null)})}),Object(r.jsx)("div",{className:"deposits",children:Array.from(W.keys()).map((t=>{const e=W.get(t);if("BURN"===e.type){const n=e.burn,a=e.status,s=e.confirmations,c=e.targetConfs,o=e.renVMStatus;return Object(r.jsx)(F,{txHash:t,burn:n,status:a,confirmations:s,targetConfs:c,updateTransaction:X,renVMStatus:o},t)}const n=e.deposit,a=e.status;return Object(r.jsx)(z,{txHash:t,deposit:n,status:a,updateTransaction:X},t)})).reverse()})]})},c.render(Object(r.jsx)(o.MultiwalletProvider,{children:Object(r.jsx)("div",{className:"main",children:Object(r.jsx)(W,{})})}),document.getElementById("root"))},174:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(296),a=n.n(r),s=n(502),c=n.n(s);const o=t=>c()("keccak256").update(t).digest(),i=t=>a()("sha256").update(t).digest()},193:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p}));var r=n(1),a=n.n(r),s=n(3),c=n(4),o=n(19),i=n.n(o),u=n(371);class l extends u.a{constructor(e,n){var r;super(e,n),r=this,this.getMintParams=t=>this._getParams?this._getParams(t):void 0,this.getBurnParams=(t,e)=>this._getParams?this._getParams(t,e):void 0,this.Address=(t,e)=>this.Account({address:t},e),this.Account=({value:e,address:n},o)=>(this._getParams=function(){var u=Object(s.a)(a.a.mark((function s(u,l){var p,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.renNetworkDetails&&r.web3){a.next=2;break}throw new Error("Ethereum must be initialized before calling 'getContractCalls'.");case 2:if(e){a.next=12;break}if(n){a.next=5;break}throw new Error("Must provide Ethereum recipient address.");case 5:if(!/.*\.ens/.exec(n)){a.next=9;break}return a.next=8,r.web3.eth.ens.getAddress(n);case 8:n=a.sent;case 9:return a.abrupt("return",{contractCalls:[{sendTo:r.renNetworkDetails.addresses.BasicAdapter,contractFn:"mint",contractParams:[{type:"string",name:"_symbol",value:u},{type:"address",name:"_address",value:n}],txConfig:o}]});case 12:if(e){a.next=14;break}throw new Error("Send amount must be provided in order to send directly to an address.");case 14:if(l){a.next=16;break}throw new Error("Must provide burn recipient address");case 16:return p=t.from(l),a.next=19,r.getGatewayContractAddress(u);case 19:return d=a.sent,a.abrupt("return",{contractCalls:[{sendTo:d,contractFn:"burn",contractParams:[{type:"bytes",name:"_to",value:Object(c.b)(p)},{type:"uint256",name:"_amount",value:new i.a(e).toFixed()}],txConfig:o}]});case 21:case"end":return a.stop()}}),s)})));return function(t,e){return u.apply(this,arguments)}}(),this),this.Contract=e=>(this._getParams=(n,r)=>{if(!this.renNetworkDetails)throw new Error("Ethereum must be initialized before calling 'getContractCalls'");if("function"===typeof e){if(!r)throw new Error("Must provide burn payload");const a=t.from(r);return{contractCalls:[e(Object(c.b)(a),n)]}}return{contractCalls:[e]}},this),this.Transaction=t=>(this._getParams=(e,n)=>({transaction:t}),this),this.BurnNonce=t=>(this._getParams=(e,n)=>({burnNonce:t}),this),this.toWei=t=>new i.a(t).times(new i.a(10).exponentiatedBy(18)).decimalPlaces(0).toFixed(),this.fromWei=t=>new i.a(t).dividedBy(new i.a(10).exponentiatedBy(18)).toFixed()}}const p=Object(c.a)(l)}).call(this,n(2).Buffer)},20:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return p}));var r,a=n(47),s=n(4),c=n(19),o=n.n(c);!function(t){t.Bool="bool",t.U8="u8",t.U16="u16",t.U32="u32",t.U64="u64",t.U128="u128",t.U256="u256",t.Str="string",t.Bytes="bytes",t.Bytes32="bytes32",t.Bytes65="bytes65"}(r||(r={}));const i=(e,n)=>{switch(e){case r.Bool:return n;case r.U8:case r.U16:case r.U32:case r.U64:case r.U128:case r.U256:return new o.a(n);case r.Str:return t.from(n);case r.Bytes:case r.Bytes32:case r.Bytes65:return Object(s.k)(n)}},u=(t,e)=>{const n={};var r,s=Object(a.a)(t.struct);try{for(s.s();!(r=s.n()).done;){const t=r.value,a=Object.keys(t);if(0===a.length)throw new Error("Invalid struct member with no entries.");if(a.length>1)throw new Error("Invalid struct member with multiple entries.");const s=Object.keys(t)[0],c=t[s];if(e&&!e.hasOwnProperty(s))throw new Error("Missing pack value for key ".concat(s,"."));n[s]=l(c,e[s])}}catch(c){s.e(c)}finally{s.f()}return n},l=(t,e)=>{if("object"===typeof t)return u(t,e);if("string"===typeof t)return"nil"===t?null:i(t,e);throw new Error("Unknown value type ".concat(String(t)).concat(t?"":" for value ".concat(String(e)),"."))},p=({t:t,v:e})=>l(t,e)}).call(this,n(2).Buffer)},250:function(t,e,n){"use strict";n.d(e,"c",(function(){return w})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return O}));var r=n(6),a=n(87),s=n(17),c=n(47),o=n(7),i=n(4),u=n(19),l=n.n(u),p=n(27);const d=t=>Object(i.k)(t).toString(),b=t=>Object(i.k)(t),m=t=>new l.a(t),f=(t,e,n)=>(Object(i.d)(n.type===e,"Expected argument ".concat(t," of type ").concat(e," but got ").concat(n.name," of type ").concat(n.type)),n.value),h=(t,e,n)=>{try{return b(f(t,e,n))}catch(r){throw r.message="Unable to decode parameter ".concat(t," with value ").concat(String(n.value)," (type ").concat(typeof n.value,"): ").concat(String(r.message)),r}},g=(t,e,n)=>{try{return m(f(t,e,n))}catch(r){throw r.message="Unable to decode parameter ".concat(t," with value ").concat(String(n.value)," (type ").concat(typeof n.value,"): ").concat(String(r.message)),r}},x=(t,e,n)=>{try{return Object(i.b)(f(t,e,n))}catch(r){throw r.message="Unable to decode parameter ".concat(t," with value ").concat(String(n.value)," (type ").concat(typeof n.value,"): ").concat(String(r.message)),r}},j={name:"p",type:p.a.ExtEthCompatPayload,value:{abi:"W10=",value:"",fn:""}},k=(t,e)=>{var n,r=Object(c.a)(e.tx.out||[]);try{for(r.s();!(n=r.n()).done;){const e=n.value;if(e.name===t)return e}}catch(u){r.e(u)}finally{r.f()}var a,s=Object(c.a)(e.tx.autogen);try{for(s.s();!(a=s.n()).done;){const e=a.value;if(e.name===t)return e}}catch(u){s.e(u)}finally{s.f()}var o,i=Object(c.a)(e.tx.in);try{for(i.s();!(o=i.n()).done;){const e=o.value;if(e.name===t)return e}}catch(u){i.e(u)}finally{i.f()}throw new Error("Unable to find field ".concat(t," in response from RenVM."))},w=(t,e=o.b)=>{const n=f("p",p.a.ExtEthCompatPayload,((t,e)=>{try{return t()}catch(n){return e}})((()=>k("p",t)),j)),r=x("token",p.a.ExtTypeEthCompatAddress,k("token",t)),a=x("to",p.a.ExtTypeEthCompatAddress,k("to",t)),s=h("n",p.a.B32,k("n",t)),c={abi:JSON.parse(d(n.abi)),value:b(n.value),fn:d(n.fn)},u=h("phash",p.a.B32,k("phash",t)),l=h("ghash",p.a.B32,k("ghash",t)),w=h("nhash",p.a.B32,k("nhash",t)),v=g("amount",p.a.U256,k("amount",t)).toFixed(),y=f("utxo",p.a.ExtTypeBtcCompatUTXO,k("utxo",t)),O=h("sighash",p.a.B32,k("sighash",t)),E={txHash:Object(i.b)(b(y.txHash),{prefix:""}),vOut:parseInt(y.vOut,10),scriptPubKey:y.scriptPubKey?Object(i.b)(b(y.scriptPubKey),{prefix:""}):"",amount:m(y.amount).toFixed()},T={sighash:O,ghash:l,nhash:w,phash:u,amount:v};if(t.tx.out){const n=[k("r",t),k("s",t),k("v",t)],s=n[0],c=n[1],o=n[2],l=s.type===p.a.B?h("r",p.a.B,s):h("r",p.a.B32,s),d=c.type===p.a.B?h("s",p.a.B,c):h("s",p.a.B32,c),b=o.type===p.a.B?h("v",p.a.B,o)[0]:g("v",p.a.U8,o).toNumber(),m=Object(i.C)(Object(i.i)(l,d,b,O,u,v,a,r,w,!1,e));T.signature=m}return{hash:Object(i.F)(b(t.tx.hash)),txStatus:t.txStatus,to:t.tx.to,in:{p:c,token:r,to:a,n:s,utxo:E},out:T}},v=t=>{const e=Object(s.a)(t.tx.in,3),n=e[0],r=e[1],a=e[2],c=g("ref",p.a.U64,n).toFixed(),o=f("to",p.a.B,r);let u;try{u=g("amount",p.a.U256,a).toFixed()}catch(d){u=g("amount",p.a.U64,a).toFixed()}const l=o;return{hash:Object(i.F)(b(t.tx.hash)),to:t.tx.to,in:{ref:c,to:l,amount:u},txStatus:t.txStatus}},y=t=>{const e=t.lock,n=t.release,s=Object(a.a)(t,["lock","release"]);return Object(r.a)({lock:m(e),release:m(n)},Object.keys(s).reduce(((e,n)=>Object(r.a)(Object(r.a)({},e),{},{[n]:{mint:m(t[n].mint).toNumber(),burn:m(t[n].burn).toNumber()}})),{}))},O=t=>{const e={};for(var n=0,r=Object.keys(t);n<r.length;n++){const a=r[n];e[a]=y(t[a])}return e}},251:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return o})),n.d(e,"o",(function(){return i})),n.d(e,"n",(function(){return l})),n.d(e,"j",(function(){return p})),n.d(e,"l",(function(){return d})),n.d(e,"m",(function(){return b})),n.d(e,"i",(function(){return m})),n.d(e,"k",(function(){return f})),n.d(e,"g",(function(){return g})),n.d(e,"c",(function(){return x})),n.d(e,"e",(function(){return j})),n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return w})),n.d(e,"f",(function(){return v})),n.d(e,"h",(function(){return y}));var r=n(4),a=n(75),s=n.n(a),c=n(20);const o=t=>{switch(t){case"nil":return 0;case c.a.Bool:return 1;case c.a.U8:return 2;case c.a.U16:return 3;case c.a.U32:return 4;case c.a.U64:return 5;case c.a.U128:return 6;case c.a.U256:return 7;case c.a.Str:return 10;case c.a.Bytes:return 11;case c.a.Bytes32:return 12;case c.a.Bytes65:return 13;case"struct":return 20;case"list":return 21}throw new Error("Unknown type ".concat(String(t),"."))},i=(e,n)=>{try{return new s.a("number"===typeof e?e:e.toString()).toArrayLike(t,"be",n)}catch(r){throw r.message="Unable to marshal uint".concat(8*n," '").concat(e,"': ").concat(String(r.message)),r}},u=t=>e=>i(e,t),l=u(1),p=u(2),d=u(4),b=u(8),m=u(16),f=u(32),h=e=>t.concat([d(e.length),e]),g=e=>h(t.from(e)),x=e=>{const n=d(e.struct.length);return t.concat([n,...e.struct.map((e=>{const n=Object.keys(e);if(0===n.length)throw new Error("Invalid struct field with no entries.");if(n.length>1)throw new Error("Invalid struct field with multiple entries.");const r=Object.keys(e)[0],a=e[r];return t.concat([g(r),j(a)])}))])},j=e=>{if("object"===typeof e)return t.concat([t.from([o("struct")]),x(e)]);if("string"===typeof e)return t.from([o(e)]);throw new Error("Unable to marshal type ".concat(String(e),"."))},k=(e,n)=>{switch(e){case c.a.Bool:return l(n?1:0);case c.a.U8:return l(n);case c.a.U16:return p(n);case c.a.U32:return d(n);case c.a.U64:return b(n);case c.a.U128:return m(n);case c.a.U256:return f(n);case c.a.Str:return g(n);case c.a.Bytes:return h(t.isBuffer(n)?t.from(n):Object(r.k)(n));case c.a.Bytes32:case c.a.Bytes65:return t.isBuffer(n)?t.from(n):Object(r.k)(n)}},w=(e,n)=>t.concat(e.struct.map((t=>{const e=Object.keys(t);if(0===e.length)throw new Error("Invalid struct member with no entries.");if(e.length>1)throw new Error("Invalid struct member with multiple entries.");const r=Object.keys(t)[0],a=t[r];try{return v(a,n[r])}catch(s){throw s.message="Unable to marshal struct field ".concat(r,": ").concat(String(s.message)),s}}))),v=(e,n)=>{if("object"===typeof e)return w(e,n);if("string"===typeof e)return"nil"===e?t.from([]):k(e,n);throw new Error("Unknown value type ".concat(String(e)).concat(e?"":" for value ".concat(String(n))))},y=({t:e,v:n})=>{const r=j(e),a=v(e,n);return t.concat([r,a])}}).call(this,n(2).Buffer)},254:function(t,e,n){"use strict";n.d(e,"c",(function(){return r.b})),n.d(e,"b",(function(){return a.a})),n.d(e,"a",(function(){return x})),n.d(e,"d",(function(){return E}));var r=n(371),a=n(193),s=n(1),c=n.n(s),o=n(3),i=n(6),u=n(7),l=n(4),p=n(57);const d={name:"BSC Testnet",chain:"bscTestnet",isTestnet:!0,chainLabel:"BSC Testnet",networkID:97,infura:"https://data-seed-prebsc-1-s1.binance.org:8545",etherscan:"https://testnet.bscscan.com",addresses:{GatewayRegistry:"0x838F881876f53a772D2F8E2f8aa2e4a996431495",BasicAdapter:"0x7de1253A8da6620351ec477b38BdC6a55FCd0f85"}},b=Object(i.a)(Object(i.a)({},d),{},{addresses:{GatewayRegistry:"0x87e83f957a2F3A2E5Fe16d5C6B22e38FD28bdc06",BasicAdapter:"0x105435a9b0f375B179e5e43A16228C04F01Fb2ee"}}),m={name:"BSC Mainnet",chain:"bscMainnet",isTestnet:!1,chainLabel:"BSC Mainnet",networkID:56,infura:"https://bsc-dataseed.binance.org/",etherscan:"https://bscscan.com",addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicAdapter:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}},f={[u.d.MainnetVDot3]:m,[u.d.TestnetVDot3]:d,[u.d.DevnetVDot3]:b},h=t=>{if(!t)return f[u.d.MainnetVDot3];if(t.addresses)return t;{const e=Object(u.h)(t);return e.isTestnet?e.name===u.d.DevnetVDot3?b:d:m}};class g extends a.b{constructor(t,e){var n;super(t,h(e)),n=this,this.chain=g.chain,this.name=g.chain,this.legacyName=void 0,this.utils=Object(l.I)(g.utils,(()=>this.renNetworkDetails)),this.initialize=t=>{if(this.renNetworkDetails=this.renNetworkDetails||f[Object(u.h)(t).name],!this.renNetworkDetails)throw new Error("Unable to set ".concat(this.name," network for RenVM network ").concat(Object(u.h)(t).name,". Please provide ").concat(this.name," network details to ").concat(this.name," constructor."));return this},this.findTransaction=function(){var t=Object(o.a)(c.a.mark((function t(e,r,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.renNetworkDetails&&n.web3){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:return t.abrupt("return",Object(p.d)(n.renNetworkDetails,n.web3,e,r,a,5e3));case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}}g.chain="BinanceSmartChain",g.utils={resolveChainNetwork:h,addressIsValid:p.a,addressExplorerLink:(t,e)=>"".concat((x.utils.resolveChainNetwork(e)||m).etherscan,"/address/").concat(t),transactionExplorerLink:(t,e)=>"".concat((x.utils.resolveChainNetwork(e)||m).etherscan,"/tx/").concat(t)};const x=Object(l.a)(g),j={name:"Fantom Testnet",chain:"fantomTestnet",isTestnet:!0,chainLabel:"Fantom Testnet",networkID:4002,infura:"https://rpc.testnet.fantom.network/",etherscan:"https://testnet.ftmscan.com",addresses:{GatewayRegistry:"0x1207765B53697a046DCF4AE95bd4dE99ef9D3D3C",BasicAdapter:"0x07deB3917d234f787AEd86E0c88E829277D4a33b"}},k=Object(i.a)(Object(i.a)({},j),{},{addresses:{GatewayRegistry:"0xD881213F5ABF783d93220e6bD3Cc21706A8dc1fC",BasicAdapter:"0xD087b0540e172553c12DEEeCDEf3dFD21Ec02066"}}),w={name:"Fantom Mainnet",chain:"fantomMainnet",isTestnet:!1,chainLabel:"Fantom Mainnet",networkID:250,infura:"https://rpcapi.fantom.network/",etherscan:"https://ftmscan.com",addresses:{GatewayRegistry:"",BasicAdapter:""}},v={[u.d.TestnetVDot3]:j,[u.d.MainnetVDot3]:w,[u.d.DevnetVDot3]:k},y=t=>{if(!t)return v[u.d.MainnetVDot3];if(t.addresses)return t;{const e=Object(u.h)(t);return e.isTestnet?e.name===u.d.DevnetVDot3?k:j:w}};class O extends a.b{constructor(t,e){super(t,y(e)),this.chain=O.chain,this.name=O.chain,this.legacyName=void 0,this.utils=Object(l.I)(O.utils,(()=>this.renNetworkDetails)),this.initialize=t=>{if(this.renNetworkDetails=this.renNetworkDetails||v[Object(u.h)(t).name],!this.renNetworkDetails)throw new Error("Unable to set ".concat(this.name," network for RenVM network ").concat(Object(u.h)(t).name,". Please provide ").concat(this.name," network details to ").concat(this.name," constructor."));return this}}}O.chain="Fantom",O.utils={resolveChainNetwork:y,addressIsValid:p.a,addressExplorerLink:(t,e)=>"".concat((O.utils.resolveChainNetwork(e)||w).etherscan,"/address/").concat(t),transactionExplorerLink:(t,e)=>"".concat((E.utils.resolveChainNetwork(e)||w).etherscan,"/tx/").concat(t)};const E=Object(l.a)(O),T={name:"Polygon Testnet",chain:"polygonTestnet",isTestnet:!0,chainLabel:"Polygon Testnet",networkID:80001,infura:"https://rpc-mumbai.maticvigil.com/",etherscan:"https://testnet.ftmscan.com",addresses:{GatewayRegistry:"",BasicAdapter:""}},C={name:"Polygon Mainnet",chain:"polygonMainnet",isTestnet:!1,chainLabel:"Polygon Mainnet",networkID:137,infura:"https://rpc-mainnet.maticvigil.com/",etherscan:"https://explorer.matic.network",addresses:{GatewayRegistry:"",BasicAdapter:""}},N={[u.d.TestnetVDot3]:T,[u.d.MainnetVDot3]:C},B=t=>{if(!t)return N[u.d.MainnetVDot3];if(t.addresses)return t;return Object(u.h)(t).isTestnet?T:C};class M extends a.b{constructor(t,e){super(t,B(e)),this.chain=M.chain,this.name=M.chain,this.legacyName=void 0,this.utils=Object(l.I)(M.utils,(()=>this.renNetworkDetails)),this.initialize=t=>{if(this.renNetworkDetails=this.renNetworkDetails||N[Object(u.h)(t).name],!this.renNetworkDetails)throw new Error("Unable to set ".concat(this.name," network for RenVM network ").concat(Object(u.h)(t).name,". Please provide ").concat(this.name," network details to ").concat(this.name," constructor."));return this}}}M.chain="Polygon",M.utils={resolveChainNetwork:B,addressIsValid:p.a,addressExplorerLink:(t,e)=>"".concat((D.utils.resolveChainNetwork(e)||C).etherscan,"/address/").concat(t),transactionExplorerLink:(t,e)=>"".concat((D.utils.resolveChainNetwork(e)||C).etherscan,"/tx/").concat(t)};const D=Object(l.a)(M);n(156)},27:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.Address="address",t.Str="str",t.B32="b32",t.B="b",t.I8="i8",t.I16="i16",t.I32="i32",t.I64="i64",t.I128="i128",t.I256="i256",t.U8="u8",t.U16="u16",t.U32="u32",t.U64="u64",t.U128="u128",t.U256="u256",t.Record="record",t.List="list",t.ExtTypeEthCompatAddress="ext_ethCompatAddress",t.ExtTypeBtcCompatUTXO="ext_btcCompatUTXO",t.ExtTypeBtcCompatUTXOs="ext_btcCompatUTXOs",t.ExtTypeEthCompatTx="ext_ethCompatTx",t.ExtEthCompatPayload="ext_ethCompatPayload"}(r||(r={}))},28:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return p})),n.d(e,"a",(function(){return d})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return h})),n.d(e,"d",(function(){return j})),n.d(e,"j",(function(){return k})),n.d(e,"h",(function(){return w})),n.d(e,"c",(function(){return v})),n.d(e,"i",(function(){return y})),n.d(e,"g",(function(){return O}));var r=n(47),a=n(1),s=n.n(a),c=n(3),o=(n(19),n(192)),i=n(44);const u=1e3,l=function(){var t=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((t=>setTimeout(t,e))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=t=>(Object(i.c)("string",{hex:t}),"0x"===t.substring(0,2)?t.slice(2):t),d=(t,{prefix:e}={prefix:"0x"})=>{const n="string"===typeof t?t:t.toString("hex");return n.substring(0,2)===e?n:"".concat(e).concat(n)},b=e=>(Object(i.c)("Buffer | string",{hex:e}),t.isBuffer(e)?e:t.from(p(e),"hex")),m=e=>(Object(i.c)("Buffer | string",{base64:e}),t.isBuffer(e)?e:t.from(e,"base64")),f=t=>(Object(i.c)("Buffer",{input:t}),t.toString("base64")),h=e=>(Object(i.c)("Buffer | string",{input:e}),(t.isBuffer(e)?e:b(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")),g=(t,e)=>t.hasOwnProperty(e),x=t=>""===t||"null"===t||"undefined"===t,j=t=>{if(t&&"object"===typeof t){if(g(t,"response")&&t.response){const e=j(t.response);if(!x(e))return e}if(g(t,"data")&&t.data){const e=j(t.data);if(!x(e))return e}if(g(t,"error")&&t.error){const e=j(t.error);if(!x(e))return e}if(g(t,"context")&&t.context){const e=j(t.context);if(!x(e))return e}if(g(t,"message")&&t.message){const e=j(t.message);if(!x(e))return e}if(g(t,"statusText")&&t.statusText){const e=j(t.statusText);if(!x(e))return e}}try{return"string"===typeof t?("Error: "===t.slice(0,7)&&(t=t.slice(7)),t):JSON.stringify(t)}catch(e){}return String(t)},k=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r=1*u,a){var c,o,i,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=new Set,i=0;case 2:if(!(-1===n||i<n)){t.next=21;break}return t.prev=3,t.next=6,e();case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(3),p=j(t.t0),o.add(p),c=t.t0,!(i<n||-1===n)){t.next=18;break}return t.next=17,l(r);case 17:a&&a.warn(t.t0);case 18:i++,t.next=2;break;case 21:throw c.message=Array.from(o).join(", "),c;case 23:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),w=()=>(t=>{try{if(window){const n=new Uint32Array(t/4);window.crypto.getRandomValues(n);let c="";var e,a=Object(r.a)(n);try{for(a.s();!(e=a.n()).done;){const t=e.value;c+="0".repeat(8-t.toString(16).length)+String(t.toString(16))}}catch(s){a.e(s)}finally{a.f()}return b(c)}}catch(c){}return n(54).randomBytes(t)})(32),v=()=>b("00".repeat(32)),y=(t,e)=>b((new o.AbiCoder).encodeParameters(t,e)),O=t=>null!==t&&void 0!==t}).call(this,n(2).Buffer)},297:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(4),a=n(251),s=n(20);const c={struct:[{amount:s.a.U256},{to:s.a.Str},{nonce:s.a.Bytes32}]},o=()=>({struct:[{txid:s.a.Bytes},{txindex:s.a.U32},{amount:s.a.U256},{payload:s.a.Bytes},{phash:s.a.Bytes32},{to:s.a.Str},{nonce:s.a.Bytes32},{nhash:s.a.Bytes32},{gpubkey:s.a.Bytes},{ghash:s.a.Bytes32}]}),i=(e,n,s)=>(Object(r.f)("string",{version:e,selector:n}),Object(r.B)(t.concat([Object(a.g)(e),Object(a.g)(n),Object(a.h)(s)])))}).call(this,n(2).Buffer)},30:function(t,e,n){"use strict";let r;n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return i})),function(t){t.Ethereum="Ethereum",t.BSC="BSC",t.Fantom="Fantom"}(r||(r={}));const a=(new Map).set(r.Ethereum,{symbol:r.Ethereum,name:"Ethereum"}).set(r.BSC,{symbol:r.BSC,name:"Binance Smart Chain"}).set(r.Fantom,{symbol:r.Fantom,name:"Fantom"}),s=r.Ethereum;let c;!function(t){t.BTC="BTC",t.ZEC="ZEC",t.BCH="BCH",t.FIL="FIL",t.LUNA="LUNA",t.DGB="DGB",t.DOGE="DOGE"}(c||(c={}));let o=(new Map).set(c.BTC,{symbol:c.BTC,name:"Bitcoin"}).set(c.ZEC,{symbol:c.ZEC,name:"Zcash"}).set(c.BCH,{symbol:c.BCH,name:"BitcoinCash"}).set(c.FIL,{symbol:c.FIL,name:"Filecoin"}).set(c.LUNA,{symbol:c.LUNA,name:"Luna"}).set(c.DGB,{symbol:c.DGB,name:"DigiByte"}).set(c.DOGE,{symbol:c.DOGE,name:"Dogecoin"});const i=c.FIL},370:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"a",(function(){return b}));var r=n(7),a=n(44),s=n(28),c=n(174);const o=(t,e=r.b)=>{const n=(Array.isArray(t[0])?t[0]:t).filter((t=>!t.notInPayload)),a=n.map((t=>t.type)),o=n.map((t=>t.value)),i=Object(s.i)(a,o),u=Object(c.a)(i);return e.debug("pHash",Object(s.m)(u),Object(s.a)(i),n),u},i=e=>{const n=e.replace(/\/.*To/,"/to");return Object(c.a)(t.from(n))},u=(e,n,i,u,l,p=r.b)=>{Object(a.c)("Buffer",{nonce:u}),Object(a.c)("string",{to:n,token:i});const d=o(e,p),b=l?t.concat([d,Object(s.f)(i),Object(s.f)(n),u]):Object(s.i)(["bytes32","address","address","bytes32"],[d,i,n,u]),m=Object(c.a)(b);return p.debug("gHash",Object(s.m)(m),Object(s.a)(b)),m},l=(e,n,a,o,i=r.b)=>{const u=o?t.concat([e,n,Object(s.i)(["uint32"],[a]).slice(-4)]):Object(s.i)(["bytes32","bytes32","uint32"],[e,n,a]),l=Object(c.a)(u);return i.debug("nHash",Object(s.m)(l),Object(s.a)(u)),l},p=(t,e,n,o,i,u,l=r.b)=>{Object(a.c)("string",{to:n,tokenIdentifier:o}),Object(a.c)("Buffer",{pHash:t,nonceHash:i});const p=Object(s.i)(["bytes32","uint256",u?"bytes32":"address","address","bytes32"],[t,e,Object(s.a)(o),Object(s.a)(n),i]),d=Object(c.a)(p);return l.debug("sigHash",Object(s.m)(d),Object(s.a)(p)),d},d=(t,e)=>(Object(a.c)("string",{txHash:t}),/^(0x)?[0-9a-fA-Z]{64}$/.exec(t)?(e?s.n:s.m)(Object(s.f)(t)):e?Object(s.n)(Object(s.e)(t)):t),b=(e,n,o=r.b)=>{Object(a.c)("string",{encodedID:n});const i="txHash_".concat(e,"_").concat(n),u=Object(c.a)(t.from(i));return o.debug("Burn txHash",Object(s.m)(u),i),u}}).call(this,n(2).Buffer)},371:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return g}));var r=n(6),a=n(1),s=n.n(a),c=n(3),o=n(7),i=n(4),u=n(19),l=n.n(u),p=n(506),d=n.n(p),b=n(156),m=n(57);const f={[o.d.Mainnet]:b.b,[o.d.Testnet]:b.d,[o.d.MainnetVDot3]:b.c,[o.d.TestnetVDot3]:b.e,[o.d.DevnetVDot3]:b.a},h=t=>{if(!t)return f[o.d.Mainnet];let e;if(t&&(t=>!!t.addresses)(t))e=t;else if(t){const n=Object(o.h)(t);f[n.name]&&(e=f[n.name])}if(!e)throw new Error("Unrecognized network ".concat(t,"."));return e};class g{constructor(t,e){var n=this;this.chain=g.chain,this.name=g.chain,this.legacyName="Eth",this.utils=Object(i.I)(g.utils,(()=>this.renNetworkDetails)),this.getTokenContractAddress=function(){var t=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.web3&&n.renNetworkDetails){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:return t.abrupt("return",Object(m.g)(n.renNetworkDetails,n.web3,e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getGatewayContractAddress=function(){var t=Object(c.a)(s.a.mark((function t(e){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.web3&&n.renNetworkDetails){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:return t.next=4,Object(m.f)(n.renNetworkDetails,n.web3,e);case 4:if("0x0000000000000000000000000000000000000000"!==(r=t.sent)){t.next=7;break}throw new Error("Asset not supported on mint-chain.");case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.withProvider=t=>(this.web3=new d.a(t),this),this.initialize=t=>{if(this.renNetworkDetails=this.renNetworkDetails||f[Object(o.h)(t).name],!this.renNetworkDetails)throw new Error("Unable to set ".concat(this.name," network for RenVM network ").concat(Object(o.h)(t).name,". Please provide ").concat(this.name," network details to ").concat(this.name," constructor."));return this},this.assetIsNative=t=>"ETH"===t,this.assetIsSupported=function(){var t=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.assetIsNative(e)){t.next=2;break}return t.abrupt("return",!0);case 2:if(n.web3&&n.renNetworkDetails){t.next=4;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 4:return t.prev=4,t.next=7,n.getGatewayContractAddress(e);case 7:return t.abrupt("return",!!t.sent);case 10:return t.prev=10,t.t0=t.catch(4),/(Empty address returned)|(Asset not supported on mint-chain)/.exec(String((t.t0||{}).message))||console.warn(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),this.assetDecimals=t=>{if("ETH"===t)return 18;throw new Error("Unsupported asset ".concat(t,"."))},this.transactionID=t=>t||"",this.transactionFromID=(t,e)=>Object(i.b)(t),this.transactionConfidence=function(){var t=Object(c.a)(s.a.mark((function t(e){var r,a,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.web3&&n.renNetworkDetails){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:if(null!==e){t.next=4;break}throw new Error("Unable to fetch transaction confidence, transaction hash: ".concat(e));case 4:return t.t0=l.a,t.next=7,n.web3.eth.getBlockNumber();case 7:return t.t1=t.sent.toString(),r=new t.t0(t.t1),t.next=11,n.web3.eth.getTransactionReceipt(e);case 11:return a=t.sent,c=0,a.blockNumber&&(o=new l.a(a.blockNumber.toString()),c=r.minus(o).plus(1).toNumber()),t.abrupt("return",{current:c,target:n.renNetworkDetails.isTestnet?15:30});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.submitMint=function(){var t=Object(c.a)(s.a.mark((function t(e,r,a,c){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.out){t.next=2;break}throw new Error("No signature passed to mint submission.");case 2:if(void 0===a.out.revert){t.next=4;break}throw new Error("Unable to submit reverted RenVM transaction.");case 4:if(n.web3){t.next=6;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 6:return t.next=8,n.findTransaction(e,a.out.nhash,a.out.sighash);case 8:if(!(o=t.sent)){t.next=13;break}return t.next=12,Object(m.i)(n.web3,o,c);case 12:return t.abrupt("return",o);case 13:return t.next=15,Object(m.j)(n.web3,r,a,c);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),this.findTransaction=function(){var t=Object(c.a)(s.a.mark((function t(e,r,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.renNetworkDetails&&n.web3){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:return t.abrupt("return",Object(m.d)(n.renNetworkDetails,n.web3,e,r,a));case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),this.resolveTokenGatewayContract=function(){var t=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.renNetworkDetails&&n.web3){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:return t.t0=i.b,t.next=5,Object(m.g)(n.renNetworkDetails,n.web3,e);case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.findBurnTransaction=function(){var t=Object(c.a)(s.a.mark((function t(e,a,c,o,u){var l,p,d,b,f,h,g,x,j,k,w,v,y,O,E;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.renNetworkDetails&&n.web3){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:if(l=a.burnNonce,p=a.contractCalls,(d=a.transaction)||!l){t.next=6;break}return t.abrupt("return",Object(m.c)(n.renNetworkDetails,n.web3,e,l.toString()));case 6:if(d||!p){t.next=29;break}b=0;case 8:if(!(b<p.length)){t.next=29;break}return f=p[b],h=b===p.length-1,g=f.contractParams,x=f.contractFn,j=f.sendTo,k=[...(g||[]).map((t=>t.value))],w=Object(i.w)(x,g),v=new n.web3.eth.Contract(w,j),y="object"===typeof f?f.txConfig:{},t.next=18,Object(m.k)(n.web3,Object(r.a)(Object(r.a)({},y),{value:y&&y.value?y.value.toString():void 0,gasPrice:y&&y.gasPrice?y.gasPrice.toString():void 0}));case 18:return O=t.sent,o.debug("Calling Ethereum contract",x,j,...k,O),E=v.methods[x](...k).send(O),h&&Object(m.e)(E,c),t.next=24,new Promise(((t,e)=>E.on("transactionHash",t).catch((t=>{try{if(Object(m.h)(t))return void o.error(Object(i.h)(t))}catch(n){}e(t)}))));case 24:d=t.sent,o.debug("Transaction hash",d);case 26:b++,t.next=8;break;case 29:if(d){t.next=31;break}throw new Error("Unable to find burn from provided parameters.");case 31:return t.abrupt("return",Object(m.b)(n.web3,d,o,u));case 32:case"end":return t.stop()}}),t)})));return function(e,n,r,a,s){return t.apply(this,arguments)}}(),this.getFees=function(){var t=Object(c.a)(s.a.mark((function t(e){var r,a,c,o,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.web3){t.next=2;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 2:return t.next=4,n.getGatewayContractAddress(e);case 4:return r=t.sent,a={constant:!0,inputs:[],name:"mintFee",outputs:[{internalType:"uint16",name:"",type:"uint16"}],payable:!1,stateMutability:"view",type:"function"},c={constant:!0,inputs:[],name:"burnFee",outputs:[{internalType:"uint16",name:"",type:"uint16"}],payable:!1,stateMutability:"view",type:"function"},o=new n.web3.eth.Contract([a,c],r),t.next=10,o.methods.mintFee().call();case 10:return i=t.sent,t.next=13,o.methods.burnFee().call();case 13:return u=t.sent,t.abrupt("return",{mint:new l.a(i.toString()).toNumber(),burn:new l.a(u.toString()).toNumber()});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getBalance=function(){var t=Object(c.a)(s.a.mark((function t(e,r){var a,c,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},n.web3){t.next=3;break}throw new Error("".concat(n.name," object not initialized - must provide network to constructor."));case 3:return t.next=5,n.getTokenContractAddress(e);case 5:return c=t.sent,o=new n.web3.eth.Contract([a],c),t.next=9,o.methods.balanceOf(r).call();case 9:return i=t.sent,t.abrupt("return",new l.a(i.toString()));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.transactionRPCFormat=(t,e)=>{if(Object(i.f)("string | null",{transaction:t}),null===t)throw new Error("Unable to encode transaction, transaction hash: ".concat(t));return{txid:Object(i.l)(t),txindex:"0"}},this.web3=new d.a(t),e&&(this.renNetworkDetails=h(e))}}g.chain="Ethereum",g.utils={resolveChainNetwork:h,addressIsValid:m.a,addressExplorerLink:(t,e)=>"".concat((g.utils.resolveChainNetwork(e)||b.b).etherscan,"/address/").concat(t),transactionExplorerLink:(t,e)=>"".concat((g.utils.resolveChainNetwork(e)||b.b).etherscan,"/tx/").concat(t)}},387:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(1),a=n.n(r),s=n(3),c=n(7),o=n(4),i=n(791),u=n.n(i);const l=(t,e)=>({id:1,jsonrpc:"2.0",method:t,params:e});class p{constructor(t,e=c.b){var n=this;if(this.sendMessage=function(){var t=Object(s.a)(a.a.mark((function t(e,r,i=2,p=120*o.c){var d,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=l(e,r),("number"!==typeof n.logger.level||n.logger.level>=c.a.Debug)&&n.logger.debug("[request]",JSON.stringify(d,null,"    ")),t.prev=2,t.next=5,Object(o.A)(Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.post(n.nodeURL,d,{timeout:p}));case 1:case"end":return t.stop()}}),t)}))),i,1*o.c);case 5:if(200===(b=t.sent).status){t.next=8;break}throw n.responseError("Unexpected status code ".concat(String(b.status)," returned from node."),b);case 8:if(!b.data.error){t.next=10;break}throw new Error(b.data.error);case 10:if(void 0!==b.data.result){t.next=12;break}throw new Error("Empty result returned from node.");case 12:return("number"!==typeof n.logger.level||n.logger.level>=c.a.Debug)&&n.logger.debug("[response]",JSON.stringify(b.data.result,null,"    ")),t.abrupt("return",b.data.result);case 16:throw t.prev=16,t.t0=t.catch(2),t.t0.response&&(t.t0.message="Node returned status ".concat(String(t.t0.response.status)," with reason: ").concat(Object(o.h)(t.t0))),t.t0;case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e,n){return t.apply(this,arguments)}}(),this.responseError=(t,e)=>{const n=new Error(t);return n.response=e,n},this.logger=e,"string"!==typeof t)throw new Error("Invalid node URL ".concat(String(t)));if(-1===t.indexOf("://"))throw new Error("Invalid node URL without protocol: ".concat(t,"."));this.nodeURL=t}}},4:function(t,e,n){"use strict";n.d(e,"w",(function(){return c})),n.d(e,"x",(function(){return o})),n.d(e,"d",(function(){return a.a})),n.d(e,"f",(function(){return a.c})),n.d(e,"e",(function(){return a.b})),n.d(e,"a",(function(){return i})),n.d(e,"I",(function(){return u})),n.d(e,"c",(function(){return l.b})),n.d(e,"D",(function(){return l.k})),n.d(e,"E",(function(){return l.l})),n.d(e,"b",(function(){return l.a})),n.d(e,"l",(function(){return l.f})),n.d(e,"k",(function(){return l.e})),n.d(e,"F",(function(){return l.m})),n.d(e,"H",(function(){return l.n})),n.d(e,"h",(function(){return l.d})),n.d(e,"A",(function(){return l.j})),n.d(e,"y",(function(){return l.h})),n.d(e,"g",(function(){return l.c})),n.d(e,"s",(function(){return l.g})),n.d(e,"u",(function(){return p})),n.d(e,"t",(function(){return d.a})),n.d(e,"B",(function(){return d.b})),n.d(e,"q",(function(){return b.d})),n.d(e,"r",(function(){return b.e})),n.d(e,"o",(function(){return b.b})),n.d(e,"p",(function(){return b.c})),n.d(e,"z",(function(){return b.g})),n.d(e,"n",(function(){return b.a})),n.d(e,"v",(function(){return g})),n.d(e,"C",(function(){return x.c})),n.d(e,"j",(function(){return x.b})),n.d(e,"i",(function(){return x.a})),n.d(e,"G",(function(){return v})),n.d(e,"m",(function(){return y}));var r=n(6),a=n(44);const s={constant:!1,inputs:[{name:"_amount",type:"uint256"},{name:"_nHash",type:"bytes32"},{name:"_sig",type:"bytes"}],outputs:[],payable:!0,stateMutability:"payable",type:"function"},c=(t,e)=>(Object(a.c)("string",{methodName:t}),(e||[]).map((({type:t,name:e})=>Object(a.c)("string",{type:t,name:e}))),[{name:t,type:"function",inputs:[...(e||[]).map((t=>({type:t.type,name:t.name})))],outputs:[]}]),o=(t,e)=>(Object(a.c)("string",{methodName:t}),(e||[]).map((({type:t,name:e})=>Object(a.c)("string",{type:t,name:e}))),[Object(r.a)(Object(r.a)({},s),{},{name:t,inputs:[...(e||[]).map((t=>({type:t.type,name:t.name}))),...s.inputs?s.inputs:[]]})]);function i(t){function e(...e){return new t(...e)}return e.prototype=t.prototype,e.utils=t.utils,e.asset=t.asset,e.chain=t.chain,e}const u=(t,e)=>Object(r.a)(Object(r.a)({},t),{},{addressIsValid:(n,r)=>t.addressIsValid(n,r||e()||"mainnet"),addressExplorerLink:t.addressExplorerLink?(n,r)=>t.addressExplorerLink(n,r||e()||"mainnet"):void 0,transactionExplorerLink:t.transactionExplorerLink?(n,r)=>t.transactionExplorerLink(n,r||e()||"mainnet"):void 0});var l=n(28);const p=(t,e)=>{if(Array.isArray(e)&&e.length!==t.length)throw new Error("Contract call override must be same length as contract calls array.");return t.map(((n,a)=>((t,e)=>{const n=(e.contractParams||[]).reduce(((t,e)=>(e.name&&(t[e.name]=e),t)),{});let a;return a="object"===typeof t.txConfig&&"object"===typeof e.txConfig?Object(r.a)(Object(r.a)({},t.txConfig),e.txConfig):e.txConfig||t.txConfig,Object(r.a)(Object(r.a)(Object(r.a)({},t),e),{},{txConfig:a,contractParams:(t.contractParams||[]).map((t=>Object(r.a)(Object(r.a)({},t),n[t.name])))})})(n,Array.isArray(e)?e[a]:a===t.length-1?e:{})))};var d=n(174),b=n(370),m=n(17);const f=/^(.*)0(.*)2(.*)$/,h=[void 0,void 0,void 0,void 0],g=t=>{const e=f.exec(t)||h,n=Object(m.a)(e,4),r=n[1],a=n[2],s=n[3];if(!r||!a||!s)throw new Error('Invalid Ren Contract "'.concat(t,'"'));return{asset:r,from:a,to:s}};var x=n(601),j=n(19),k=n.n(j);const w=t=>k.a.isBigNumber(t)?new k.a(t):new k.a(t.toString()),v=(t,e)=>w(t).times(new k.a(10).exponentiatedBy(e)).decimalPlaces(0).toFixed(),y=(t,e)=>w(t).dividedBy(new k.a(10).exponentiatedBy(e)).toFixed()},44:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return f}));var r=n(17),a=n(19),s=n.n(a);const c=(t,e)=>{if(!t)throw new Error("Failed assertion".concat(e?": ".concat(e):""));return!0},o=(t,e)=>d(t)?m(t,e):p(t)?b(t,e):u(l(t),e,t),i=e=>null===e?"null":s.a.isBigNumber(e)?"BigNumber":t.isBuffer(e)?"Buffer":typeof e,u=(t,e,n)=>{for(var r=0,a=Object.keys(e);r<a.length;r++){const s=a[r],c=e[s];if(!t(c,s)){const t=Array.isArray(c)?"any[]":i(c);throw new Error("Expected ".concat(s," to be of type '").concat(n,"', instead got '").concat(t,"'."))}}return!0},l=t=>e=>"any"===t||i(e)===t,p=t=>{const e=t.split(" | ");return e.length>1&&e},d=t=>{if("Array<"===t.slice(0,6)&&">"===t.slice(-1)){const e=/^Array<(.*)>$/.exec(t);if(e){return Object(r.a)(e,2)[1]}}if(-1===t.indexOf(" ")&&"[]"===t.slice(-2)){const e=/^([^ ]*)\[\]$/.exec(t);if(e){return Object(r.a)(e,2)[1]}}return!1},b=(t,e)=>{const n=t.split(" | ");return u(((t,e)=>n.reduce(((n,r)=>{if(n)return n;if(d(r))try{return m(r,{[e]:t}),!0}catch(a){return!1}return l(r)(t)}),!1)),e,t)},m=(t,e)=>{const n=d(t);if(!n)throw new Error("Invalid array type ".concat(t));for(var r=0,a=Object.keys(e);r<a.length;r++){const t=a[r],s=e[t];u((t=>Array.isArray(t)),{value:s},"any[]");for(let e=0;e<s.length;e++)o(n,{["".concat(t,"[").concat(e,"]")]:s[e]})}return!0},f=(t,e)=>{for(var n=0,r=Object.keys(e);n<r.length;n++){const c=r[n],i=e[c];for(var a=0,s=Object.keys(t);a<s.length;a++){const e=s[a];if("object"===typeof t[e])f(t[e],{["".concat(c,'["').concat(e,'"]')]:i[e]});else{if("string"!==typeof t[e])throw new Error("Invalid object type definition ".concat(typeof t[e]));o(t[e],{["".concat(c,'["').concat(e,'"]')]:i[e]})}}}return!0}}).call(this,n(2).Buffer)},514:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return m}));var r=n(1),a=n.n(r),s=n(3),c=n(7),o=n(387),i=n(4),u=n(382),l=n(88),p=n(250),d=n(27);const b=(e,n,r,a=c.b)=>{Object(i.f)("string",{encodedID:n,deposit:r});const s="txHash_".concat(e,"_").concat(n,"_").concat(r),o=Object(i.t)(t.from(s));return a.debug("Mint txHash",Object(i.F)(o),s),o};class m{constructor(e,n,r=c.b){var m=this;if(this.version=()=>1,this.selector=({asset:t,from:e,to:n})=>"".concat(t,"0").concat(e.legacyName||e.name,"2").concat(n.legacyName||e.name),this.queryBlock=function(){var t=Object(s.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryBlock,{blockHeight:e},n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.queryBlocks=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryBlocks,{blockHeight:e,n:n},r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),this.submitTx=function(){var t=Object(s.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodSubmitTx,{tx:e},n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.queryTx=function(){var t=Object(s.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryTx,{txHash:e},n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.queryTxs=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r,s,c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryTxs,{tags:e,page:(n||0).toString(),pageSize:(r||0).toString(),txStatus:s},c));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a,s){return t.apply(this,arguments)}}(),this.queryNumPeers=function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryNumPeers,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.queryPeers=function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryPeers,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.queryShards=function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryShards,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.queryStat=function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryStat,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.queryFees=function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sendMessage(l.a.MethodQueryFees,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getFees=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=p.b,t.next=3,m.queryFees();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))),this.mintTxHash=({selector:t,gHash:e,outputHashFormat:n})=>(Object(i.f)("Buffer",{gHash:e}),Object(i.f)("string",{outputHashFormat:n}),b(t,Object(i.F)(e),n,this.logger)),this.submitMint=function(){var e=Object(s.a)(a.a.mark((function e({selector:n,nonce:r,output:s,payload:c,to:o,token:u,fn:p,fnABI:b,tags:f}){var h,g,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=s.txindex,g=s.txid,Object(i.f)("Buffer",{nonce:r,payload:c,txid:g}),Object(i.f)("string",{to:o,token:u,fn:p,txindex:h}),e.next=5,m.sendMessage(l.a.MethodSubmitTx,{tx:{to:n,in:[{name:"p",type:d.a.ExtEthCompatPayload,value:{abi:Object(i.F)(t.from(JSON.stringify(b))),value:Object(i.F)(c),fn:Object(i.F)(t.from(p))}},{name:"token",type:d.a.ExtTypeEthCompatAddress,value:Object(i.E)(u)},{name:"to",type:d.a.ExtTypeEthCompatAddress,value:Object(i.E)(o)},{name:"n",type:d.a.B32,value:Object(i.F)(r)},{name:"utxo",type:d.a.ExtTypeBtcCompatUTXO,value:{txHash:Object(i.F)(g),vOut:h}}]},tags:f});case 5:return x=e.sent,e.abrupt("return",Object(i.k)(x.tx.hash));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.submitBurn=function(){var t=Object(s.a)(a.a.mark((function t(e){var n,r,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selector,r=e.burnNonce,s=e.tags,t.next=3,m.sendMessage(l.a.MethodSubmitTx,{tx:{to:n,in:[{name:"ref",type:d.a.U64,value:r.decimalPlaces(0).toFixed()}]},tags:s});case 3:return c=t.sent,t.abrupt("return",Object(i.k)(c.tx.hash));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.queryMintOrBurn=function(){var t=Object(s.a)(a.a.mark((function t(e,n){var r,s,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.queryTx(Object(i.F)(n));case 2:if(r=t.sent,s=Object(i.v)(r.tx.to),c=s.asset,o=s.from,c.toUpperCase()!==o.toUpperCase()){t.next=8;break}return t.abrupt("return",Object(p.c)(r));case 8:return t.abrupt("return",Object(p.a)(r));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.waitForTX=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r,s,o){var u,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(i.f)("Buffer",{utxoTxHash:n});case 1:if(!s||!s()){t.next=4;break}throw new Error("waitForTX cancelled");case 4:return t.prev=4,t.next=7,m.queryMintOrBurn(e,n);case 7:if(!(l=t.sent)||l.txStatus!==c.f.TxStatusDone){t.next=13;break}return u=l,t.abrupt("break",23);case 13:r&&l&&l.txStatus&&r(l.txStatus);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),/(not found)|(not available)/.exec(String((t.t0||{}).message))||m.logger.error(String(t.t0));case 19:return t.next=21,Object(i.D)(Object(i.s)(o)?o:15*i.c);case 21:t.next=1;break;case 23:return t.abrupt("return",u);case 24:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e,n,r,a,s){return t.apply(this,arguments)}}(),this.selectPublicKey=function(){var t=Object(s.a)(a.a.mark((function t(e,n){var r,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.queryShards(5);case 2:if(r=t.sent,s=r.shards.sort(((t,e)=>t.primary&&e.primary||t.primary?-1:e.primary?1:0))[0]){t.next=6;break}throw new Error("Unable to load public key from RenVM: no shards found");case 6:if(c=Object(u.a)(s.gateways).filter((t=>t.asset===n)).first(void 0)){t.next=9;break}throw new Error("Unable to load public key from RenVM: no gateway for the asset ".concat(n));case 9:return t.abrupt("return",Object(i.k)(c.pubKey));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.getNetwork=function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.network);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getConfirmationTarget=function(){var t=Object(s.a)(a.a.mark((function t(e,n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(i.v)(e),s=r.asset,t.t0=m.network,t.next="mainnet"===t.t0?4:"testnet"===t.t0?12:20;break;case 4:t.t1=s,t.next="BTC"===t.t1?7:"ZEC"===t.t1?8:"BCH"===t.t1?9:"ETH"===t.t1?10:11;break;case 7:return t.abrupt("return",6);case 8:return t.abrupt("return",24);case 9:return t.abrupt("return",15);case 10:return t.abrupt("return",30);case 11:return t.abrupt("break",20);case 12:t.t2=s,t.next="BTC"===t.t2?15:"ZEC"===t.t2?16:"BCH"===t.t2?17:"ETH"===t.t2?18:19;break;case 15:return t.abrupt("return",2);case 16:return t.abrupt("return",6);case 17:return t.abrupt("return",2);case 18:return t.abrupt("return",12);case 19:return t.abrupt("break",20);case 20:return t.abrupt("return",void 0);case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.estimateTransactionFee=function(){var t=Object(s.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getFees();case 2:return r=t.sent,t.abrupt("return",r[n.legacyName?n.legacyName.toLowerCase():n.name.toLowerCase()]);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),!n){const t=(Object(c.h)(e)||{}).lightnode;try{n=new o.a(t,r)}catch(f){if(/Invalid node URL/.exec(String(f&&f.message)))throw new Error('Invalid network or provider URL: "'.concat((Object(c.h)(e)||{}).name||String(e),'"'));throw f}}this.network=e,this.logger=r,this.provider=n,this.sendMessage=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r=2,s=120*i.c){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.provider.sendMessage(e,n,r,s);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),o=Object(i.h)(t.t0),/(tx hash=[a-zA-Z0-9+\/=]+ not found)/.exec(o)&&(t.t0.code=c.c.RenVMTransactionNotFound),/(insufficient funds)/.exec(o)&&(t.t0.code=c.c.AmountTooSmall),/(utxo spent or invalid index)/.exec(o)&&(t.t0.code=c.c.DepositSpentOrNotFound),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}}}).call(this,n(2).Buffer)},53:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"e",(function(){return x})),n.d(e,"a",(function(){return j})),n.d(e,"c",(function(){return k})),n.d(e,"f",(function(){return w}));var r=n(1),a=n.n(r),s=n(3),c=n(383),o=n(384),i=n(254),u=n(124),l=n(16),p=n(10),d=n(18),b=n.n(d),m=n(66),f=n(30);const h=l.LogLevel.Trace,g=(t,e,n,r,a)=>{switch(t){case f.c.Ethereum:let s=m.a;n&&["BTC","ZEC","BCH"].indexOf(n)>=0&&("mainnet-v0.3"===s.name?s=Object(l.getRenNetworkDetails)("mainnet"):"testnet-v0.3"===s.name&&(s=Object(l.getRenNetworkDetails)("testnet")));let c=Object(i.b)(e,s);return c=r?c.Account({address:r,value:a}):c,c;case f.c.BSC:let o=Object(i.a)(e,m.a.isTestnet?"testnet":"mainnet");return o=r?o.Account({address:r,value:a}):o,o;case f.c.Fantom:let u=Object(i.d)(e,m.a.isTestnet?"testnet":"mainnet");return u=r?u.Account({address:r,value:a}):u,u;default:throw new Error("Unsupported chain ".concat(t,"."))}},x=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r,i,l,p,d,m){var h,x,j,k,w,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=i,t.next=t.t0===f.a.BTC?3:t.t0===f.a.ZEC?5:t.t0===f.a.BCH?7:t.t0===f.a.FIL?9:t.t0===f.a.LUNA?11:t.t0===f.a.DGB?13:t.t0===f.a.DOGE?15:17;break;case 3:return h=Object(u.a)(),t.abrupt("break",18);case 5:return h=Object(u.e)(),t.abrupt("break",18);case 7:return h=Object(u.b)(),t.abrupt("break",18);case 9:return h=Object(c.a)(),t.abrupt("break",18);case 11:return h=Object(o.a)(),t.abrupt("break",18);case 13:return h=Object(u.c)(),t.abrupt("break",18);case 15:return h=Object(u.d)(),t.abrupt("break",18);case 17:throw new Error("Unsupported asset ".concat(i,"."));case 18:return x=g(n,r,i,l),t.next=21,h.assetDecimals(i);case 21:return j=t.sent,t.next=24,e.getFees({asset:i,from:h,to:x});case 24:return k=t.sent,console.log("fees",k),k.lock&&(w=new b.a(k.lock).dividedBy(new b.a(10).exponentiatedBy(j)),d(w.toFixed())),t.next=29,e.lockAndMint({asset:i,from:h,to:x});case 29:(v=t.sent).gatewayAddress&&p(v.gatewayAddress),v.on("deposit",function(){var t=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.txHash();case 2:n=t.sent,m(n,e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 32:case"end":return t.stop()}}),t)})));return function(e,n,r,a,s,c,o,i){return t.apply(this,arguments)}}();let j;!function(t){t.DETECTED="Detected",t.CONFIRMED="Confirmed",t.SIGNED="Signed",t.DONE="Done",t.ERROR="Error"}(j||(j={}));const k=function(){var e=Object(s.a)(a.a.mark((function e(n,r,s,c,o,i){var u,d,b,m,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Step: deposit.txHash()"),e.next=3,n.txHash();case 3:return u=e.sent,console.log("Step: deposit.params.to.findTransaction()"),e.next=7,n.params.to.findTransaction(n.params.asset,n._state.nHash,t.from("00".repeat(32),"hex"));case 7:if(d=e.sent,console.log("findTransaction",d),!d){e.next=13;break}return console.log("Step: returning"),r(j.DONE),e.abrupt("return");case 13:return n._state.logger=new l.SimpleLogger(h,"[".concat(u.slice(0,6),"] ")),console.log("calling deposit.confirmed()"),e.next=17,n.confirmed().on("target",s).on("confirmation",c);case 17:r(j.CONFIRMED),b=1;case 19:if(!b){e.next=36;break}return e.prev=20,e.next=23,n.signed().on("status",o);case 23:return e.abrupt("break",36);case 26:e.prev=26,e.t0=e.catch(20),console.error(e.t0),m=e.t0;case 30:if(!--b){e.next=34;break}return e.next=34,Object(p.j)(10);case 34:e.next=19;break;case 36:if(0!==b){e.next=38;break}throw new Error(m);case 38:return e.next=40,n.findTransaction();case 40:if(!(f=e.sent)){e.next=45;break}return i(f),r(j.DONE),e.abrupt("return");case 45:r(j.SIGNED);case 46:case"end":return e.stop()}}),e,null,[[20,26]])})));return function(t,n,r,a,s,c){return e.apply(this,arguments)}}(),w=function(){var t=Object(s.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mint().on("transactionHash",r);case 2:n(j.DONE);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}).call(this,n(2).Buffer)},57:function(t,e,n){"use strict";(function(t){n.d(e,"h",(function(){return h})),n.d(e,"e",(function(){return g})),n.d(e,"b",(function(){return w})),n.d(e,"f",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"k",(function(){return O})),n.d(e,"i",(function(){return E})),n.d(e,"g",(function(){return T})),n.d(e,"d",(function(){return C})),n.d(e,"j",(function(){return N})),n.d(e,"a",(function(){return B}));var r=n(6),a=n(1),s=n.n(a),c=n(3),o=n(7),i=n(4),u=n(19),l=n.n(u),p=n(172),d=n.n(p),b=n(808),m=n(507),f=n(38);const h=t=>{try{return!(!t||!t.message||!/Invalid block number/.exec(t.message)&&!/Timeout exceeded during the transaction confirmation process./.exec(t.message))}catch(e){return!1}},g=(t,e)=>{t.on("transactionHash",(t=>{e.emit("transactionHash",t),e.emit("eth_transactionHash",t)})),t.on("receipt",(t=>{e.emit("receipt",t),e.emit("eth_receipt",t)})),t.on("confirmation",((t,n)=>{e.emit("confirmation",t,n),e.emit("eth_confirmation",t,n)}))},x={LogBurn:Object(f.keccak256)("LogBurn(bytes,uint256,uint256,bytes)"),LogMint:Object(f.keccak256)("LogMint(address,uint256,uint256,bytes32)")},j=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(c.a)(s.a.mark((function t(c,o){var u,l,p,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(i.f)("string",{txHash:n}),t.prev=1,t.t0=b.a,t.next=5,e.eth.net.getId();case 5:t.t1=t.sent,t.t2={dappId:"6b3d07f1-b158-4cf1-99ec-919b11fe3654",networkId:t.t1},u=new t.t0(t.t2),l=u.transaction(n),(p=l.emitter).on("txSpeedUp",(t=>{t.hash&&(n=Object(i.b)(t.hash))})),p.on("txCancel",(()=>{o(new Error("Ethereum transaction was cancelled."))})),t.next=15;break;case 13:t.prev=13,t.t3=t.catch(1);case 15:if(d&&d.blockHash){t.next=26;break}return r&&r.debug("Fetching transaction receipt: ".concat(n)),t.next=19,e.eth.getTransactionReceipt(n);case 19:if(!(d=t.sent)||!d.blockHash){t.next=22;break}return t.abrupt("break",26);case 22:return t.next=24,Object(i.D)(Object(i.s)(a)?a:15*i.c);case 24:t.next=15;break;case 26:try{u&&(u.unsubscribe(n),u.destroy())}catch(s){}if(!1!==d.status){t.next=30;break}return o(new Error('Transaction was reverted. { "transactionHash": "'.concat(n,'" }'))),t.abrupt("return");case 30:return c(d),t.abrupt("return");case 32:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),k=(t,e)=>{Object(i.d)(e.topics[0]===x.LogBurn);const n=t.eth.abi.decodeLog([{indexed:!1,name:"_to",type:"bytes"},{indexed:!1,name:"_amount",type:"uint256"},{indexed:!0,name:"_n",type:"uint256"},{indexed:!0,name:"_indexedTo",type:"bytes"}],e.data,e.topics.slice(1)),r=n._to,a=n._amount,s=n._n;return{transaction:e.transactionHash,amount:new l.a(a.toString()),to:Object(i.l)(r).toString(),nonce:new l.a(s.toString())}},w=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r,a){var c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(i.f)("string",{txHash:n}),t.next=3,j(e,n,r,a);case 3:if((c=t.sent).logs){t.next=6;break}throw Error("No events found in transaction");case 6:if((o=c.logs.filter((t=>t.topics[0]===x.LogBurn)).map((t=>k(e,t)))).length,!o.length){t.next=10;break}return t.abrupt("return",o[0]);case 10:throw Error("No reference ID found in logs");case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),v=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r){var a,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={constant:!0,inputs:[{internalType:"string",name:"_tokenSymbol",type:"string"}],name:"getGatewayBySymbol",outputs:[{internalType:"contract IGateway",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},c=new n.eth.Contract([a],e.addresses.GatewayRegistry),t.next=5,c.methods.getGatewayBySymbol(r).call();case 5:if(o=t.sent){t.next=8;break}throw new Error("Empty address returned.");case 8:return t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),(t.t0||{}).message="Error looking up ".concat(r," gateway address").concat(t.t0.message?": ".concat(String(t.t0.message)):"."),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n,r){return t.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(s.a.mark((function e(n,r,a,c){var o,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n,r,a);case 2:return o=e.sent,u=t.isBuffer(c)?c:new d.a(c).toArrayLike(t,"be",32),e.next=6,r.eth.getPastLogs({address:o,fromBlock:"1",toBlock:"latest",topics:[x.LogBurn,Object(i.b)(u)]});case 6:if((l=e.sent).length){e.next=9;break}throw Error("Burn not found for nonce ".concat(Object(i.b)(u)));case 9:return l.length,e.abrupt("return",k(r,l[0]));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),O=function(){var t=Object(c.a)(s.a.mark((function t(e,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.from){t.next=11;break}if(!e.eth.defaultAccount){t.next=5;break}n.from=e.eth.defaultAccount,t.next=11;break;case 5:return t.next=7,e.eth.getAccounts();case 7:if(0!==(r=t.sent).length){t.next=10;break}throw new Error("No accounts found in Web3 wallet.");case 10:n.from=r[0];case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r){var a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(i.f)("string",{txHash:n}),t.next=3,e.eth.getTransactionReceipt(n);case 3:return a=t.sent,r.emit("transactionHash",n),o=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.eth.getBlockNumber();case 2:n=t.sent,r.emit("confirmation",Math.max(0,n-a.blockNumber),a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=8,o();case 8:return setTimeout((()=>{o().catch(console.error)}),1e3),t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),T=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r){var a,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={constant:!0,inputs:[{internalType:"string",name:"_tokenSymbol",type:"string"}],name:"getTokenBySymbol",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},c=new n.eth.Contract([a],e.addresses.GatewayRegistry),t.next=5,c.methods.getTokenBySymbol(r).call();case 5:if(o=t.sent){t.next=8;break}throw new Error("Empty address returned.");case 8:return t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),(t.t0||{}).message="Error looking up ".concat(r," token address").concat(t.t0.message?": ".concat(String(t.t0.message)):"."),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n,r){return t.apply(this,arguments)}}(),C=function(){var t=Object(c.a)(s.a.mark((function t(e,n,r,a,c,o){var u,p,d,b,m,f,h,g;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e,n,r);case 3:if(p=t.sent,d={constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"status",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},b=new n.eth.Contract([d],p),m=1,f="latest",!o){t.next=15;break}return t.t0=l.a,t.next=12,n.eth.getBlockNumber();case 12:t.t1=t.sent.toString(),f=new t.t0(t.t1).toNumber(),m=f-o+1;case 15:if(!c){t.next=26;break}return t.next=18,b.methods.status(Object(i.b)(c)).call();case 18:if(u=t.sent){t.next=21;break}return t.abrupt("return",void 0);case 21:return t.next=23,n.eth.getPastLogs({address:p,fromBlock:m,toBlock:f,topics:[x.LogMint,null,null,Object(i.b)(c)]});case 23:if(!(h=t.sent).length){t.next=26;break}return t.abrupt("return",h[0].transactionHash);case 26:return t.next=28,n.eth.getPastLogs({address:p,fromBlock:m,toBlock:f,topics:[x.LogMint,null,null,Object(i.b)(a)]});case 28:if(!(g=t.sent).length){t.next=31;break}return t.abrupt("return",g[0].transactionHash);case 31:t.next=36;break;case 33:t.prev=33,t.t2=t.catch(0),console.warn(t.t2);case 36:if(!u){t.next=38;break}return t.abrupt("return","");case 38:return t.abrupt("return");case 39:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e,n,r,a,s,c){return t.apply(this,arguments)}}(),N=function(){var t=Object(c.a)(s.a.mark((function t(e,n,a,c,u=o.b){var p,d,b,m,f,x,j,k,w,v,y,E;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.out){t.next=2;break}throw new Error("No result available from RenVM transaction.");case 2:if(void 0===a.out.revert){t.next=4;break}throw new Error("Unable to submit reverted RenVM transaction.");case 4:if(a.out.signature){t.next=6;break}throw new Error("No signature available from RenVM transaction.");case 6:d=0;case 7:if(!(d<n.length)){t.next=24;break}return b=n[d],m=d===n.length-1,f=b.contractParams,x=b.contractFn,j=b.sendTo,k=m?[...(f||[]).map((t=>t.value)),Object(i.b)(new l.a(a.out.amount).toString(16)),Object(i.b)(a.out.nhash),Object(i.b)(a.out.signature)]:(f||[]).map((t=>t.value)),w=m?Object(i.x)(x,f||[]):Object(i.w)(x,f||[]),v=new e.eth.Contract(w,j),y="object"===typeof b?b.txConfig:{},t.next=17,O(e,Object(r.a)(Object(r.a)({},y),{value:y&&y.value?y.value.toString():void 0,gasPrice:y&&y.gasPrice?y.gasPrice.toString():void 0}));case 17:E=t.sent,u.debug("Calling Ethereum contract",x,j,...k,E),p=v.methods[x](...k).send(E),m&&void 0!==p&&g(p,c);case 21:d++,t.next=7;break;case 24:return t.next=26,new Promise(((t,e)=>{if(void 0===p)throw new Error("Must provide contract call.");p.once("confirmation",((e,n)=>{t(n.transactionHash)})).catch((t=>{try{if(h(t))return void u.error(Object(i.h)(t))}catch(n){}e(t)}))}));case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),B=t=>!!/^.+\.eth$/.exec(t)||(/^0x[a-f0-9]{40}$/.exec(t)?Object(m.isValidAddress)(t):!!/^0x[a-fA-F0-9]{40}$/.exec(t)&&Object(m.isValidChecksumAddress)(t))}).call(this,n(2).Buffer)},601:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return d}));var r=n(7),a=n(19),s=n.n(a),c=n(44),o=n(28),i=n(370);const u=e=>t.concat([e.r,e.s,t.from([e.v])]),l=new s.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16),p=(t,e,n)=>{Object(c.c)("Buffer",{r:t,s:e});let r=new s.a(Object(o.a)(e),16),a=(n||0)%27+27;return r.gt(l.div(2))&&(r=l.minus(r),a=(t=>27===t?28:27)(a)),{r:t,s:(i=r,Object(o.f)(("0".repeat(64)+i.toString(16)).slice(-64))),v:a};var i},d=(t,e,n,a,s,u,l,d,b,m,f=r.b)=>{if(Object(c.c)("string",{amount:u,to:l,tokenIdentifier:d}),Object(c.c)("Buffer",{r:t,s:e,sigHash:a,pHash:s,nHash:b}),"number"!==typeof f.level||f.level>=r.a.Warn){const t=Object(i.f)(s,u,l,d,b,m,f);Object(o.a)(a)!==Object(o.a)(t)&&f.warn("Warning: unexpected signature hash returned from RenVM. Expected ".concat(Object(o.a)(t),", got ").concat(Object(o.a)(a),"."))}return p(t,e,n)}}).call(this,n(2).Buffer)},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var r=n(16),a=n(30);const s=Object(r.getRenNetworkDetails)(r.RenNetwork.TestnetVDot3),c=(t,e,n)=>{const c=("BTC"===e||"ZEC"===e||"BCH"===e)&&t===a.c.Ethereum;return s.isTestnet?c?r.RenNetwork.Testnet:r.RenNetwork.TestnetVDot3:c?r.RenNetwork.Mainnet:r.RenNetwork.MainnetVDot3}},7:function(t,e,n){"use strict";var r;n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return w})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return E})),function(t){t.RenVMTransactionNotFound="REN_RENVM_TRANSACTION_NOT_FOUND",t.DepositSpentOrNotFound="REN_DEPOSIT_SPENT_OR_NOT_FOUND",t.AmountTooSmall="REN_AMOUNT_TOO_SMALL"}(r||(r={}));var a,s=n(19),c=n.n(s);!function(t){t[t.Error=0]="Error",t[t.Warn=1]="Warn",t[t.Log=2]="Log",t[t.Info=3]="Info",t[t.Debug=4]="Debug",t[t.Trace=5]="Trace"}(a||(a={}));const o=t=>{switch((t=>{switch(t){case"error":case a.Error:return 0;case"warn":case a.Warn:return 1;case"warn":case a.Log:return 2;case"info":case a.Info:return 3;case"debug":case a.Debug:return 4;case"trace":case a.Trace:return 5;default:return 1}})(t)){case a.Error:return"ERROR";case a.Warn:case a.Log:return"WARN";case a.Info:return"INFO";case a.Debug:return"DEBUG";case a.Trace:return"TRACE"}},i=t=>{try{return c.a.isBigNumber(t)?t.toFixed():t}catch(e){try{return String(t)}catch(n){return""}}},u=(t,e,...n)=>{e?t(e,...n):t(...n)};class l{constructor(t=a.Warn,e,n){if(this.logPrefix=()=>"",this.debugPrefix=t=>"[RenJS][".concat(o(t),"]"),this.trace=(t,...e)=>{this.level>=a.Trace&&(e.length&&"string"===typeof t?(console.group((this.debugPrefix(a.Trace)||"")+t),console.trace(...e.map(i)),console.groupEnd()):u(console.trace,this.debugPrefix(a.Trace),i(t),...e.map(i)))},this.debug=(t,...e)=>{this.level>=a.Debug&&(e.length&&"string"===typeof t?(console.group((this.debugPrefix(a.Debug)||"")+t),console.debug(...e.map(i)),console.groupEnd()):u(console.debug,this.debugPrefix(a.Debug),i(t),...e.map(i)))},this.info=(...t)=>{this.level>=a.Info&&u(console.info,this.logPrefix(a.Info),...t.map(i))},this.log=(...t)=>{this.level>=a.Log&&u(console.log,this.logPrefix(a.Log),...t.map(i))},this.warn=(...t)=>{this.level>=a.Warn&&u(console.warn,this.logPrefix(a.Warn),...t.map(i))},this.error=(...t)=>{this.level>=a.Error&&u(console.error,this.logPrefix(a.Error),...t.map(i))},this.level=t,e){const t="string"===typeof e?()=>e:e;this.logPrefix=t,this.debugPrefix=t}if(n){const t="string"===typeof n?()=>n:n;this.debugPrefix=t}}}const p={level:-1,trace:(t,...e)=>{},debug:(t,...e)=>{},info:(t,...e)=>{},log:(t,...e)=>{},warn:(t,...e)=>{},error:(t,...e)=>{}};var d;!function(t){t.Mainnet="mainnet",t.Testnet="testnet",t.MainnetVDot3="mainnet-v0.3",t.TestnetVDot3="testnet-v0.3",t.DevnetVDot3="devnet-v0.3"}(d||(d={}));const b={name:d.Mainnet,lightnode:"https://lightnode-mainnet.herokuapp.com",isTestnet:!1},m={name:d.Testnet,lightnode:"https://lightnode-testnet.herokuapp.com",isTestnet:!0},f={name:d.MainnetVDot3,lightnode:"https://lightnode-new-mainnet.herokuapp.com/",isTestnet:!1},h={name:d.TestnetVDot3,lightnode:"https://lightnode-new-testnet.herokuapp.com/",isTestnet:!0},g={name:d.DevnetVDot3,lightnode:"https://lightnode-devnet.herokuapp.com/",isTestnet:!0},x=t=>{switch(t){case d.Mainnet:case d.Mainnet:return b;case d.Testnet:case d.Testnet:return m;case d.MainnetVDot3:case d.MainnetVDot3:return f;case d.TestnetVDot3:case d.TestnetVDot3:return h;case d.DevnetVDot3:case d.DevnetVDot3:return g;default:return t}};d.Mainnet,d.Testnet,d.MainnetVDot3,d.TestnetVDot3,d.DevnetVDot3;var j=n(55);class k{constructor(){return this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),this._cancelled=!1,this.eventEmitter=new j.EventEmitter,new Proxy(this,{get:this.proxyHandler})}proxyHandler(t,e){return"resolve"===e||"reject"===e?t[e]:"then"===e?t.promise.then.bind(t.promise):"catch"===e?t.promise.catch.bind(t.promise):"_cancel"===e?()=>{this._cancelled=!0}:"_isCancelled"===e?()=>!0===this._cancelled:"_resume"===e?()=>{this._cancelled=!1}:t.eventEmitter[e]?t.eventEmitter[e]:void 0}}const w=()=>new k;var v,y,O;!function(t){t.Committed="mint_committed",t.Deposited="mint_deposited",t.Confirmed="mint_confirmed",t.SubmittedToRenVM="mint_submittedToRenVM",t.ReturnedFromRenVM="mint_returnedFromRenVM",t.SubmittedToLockChain="mint_submittedToLockChain",t.ConfirmedOnLockChain="mint_confirmedOnLockChain",t.SubmittedToEthereum="mint_submittedToEthereum",t.ConfirmedOnEthereum="mint_confirmedOnEthereum"}(v||(v={})),function(t){t.Committed="burn_committed",t.SubmittedToLockChain="burn_submittedToLockChain",t.ConfirmedOnLockChain="burn_confirmedOnLockChain",t.SubmittedToRenVM="burn_submittedToRenVM",t.ReturnedFromRenVM="burn_returnedFromRenVM",t.NoBurnFound="burn_noBurnFound",t.SubmittedToEthereum="burn_submittedToEthereum",t.ConfirmedOnEthereum="burn_confirmedOnEthereum"}(y||(y={})),function(t){t.TxStatusNil="nil",t.TxStatusConfirming="confirming",t.TxStatusPending="pending",t.TxStatusExecuting="executing",t.TxStatusReverted="reverted",t.TxStatusDone="done"}(O||(O={}));const E={[O.TxStatusNil]:0,[O.TxStatusConfirming]:1,[O.TxStatusPending]:2,[O.TxStatusExecuting]:3,[O.TxStatusReverted]:4,[O.TxStatusDone]:5}},790:function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return m}));var a=n(1),s=n.n(a),c=n(6),o=n(3),i=n(7),u=n(809),l=n(4),p=n(792),d=n(793),b=n(157);class m{constructor(t,e){var n=this;this.utils=m.utils,this.getFees=function(){var t=Object(o.a)(s.a.mark((function t({asset:e,from:r,to:a}){var o,i,u,l,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.assetIsSupported(e);case 2:if(t.sent){t.next=4;break}throw new Error("Asset not supported by chain ".concat(r.name,"."));case 4:return t.next=6,a.assetIsSupported(e);case 6:if(t.sent){t.next=8;break}throw new Error("Asset not supported by chain ".concat(a.name,"."));case 8:return t.next=10,r.assetIsNative(e);case 10:if(!t.sent){t.next=21;break}return t.next=13,a.getFees(e);case 13:return i=t.sent,u=n.renVM.selector({asset:e,from:r,to:a}),t.next=17,n.renVM.estimateTransactionFee(u,r);case 17:l=t.sent,o=Object(c.a)(Object(c.a)({},l),i),t.next=41;break;case 21:return t.next=23,a.assetIsNative(e);case 23:if(!t.sent){t.next=34;break}return t.next=26,r.getFees(e);case 26:return i=t.sent,u=n.renVM.selector({asset:e,from:r,to:a}),t.next=30,n.renVM.estimateTransactionFee(u,a);case 30:l=t.sent,o=Object(c.a)(Object(c.a)({},l),i),t.next=41;break;case 34:return t.next=36,r.getFees(e);case 36:return i=t.sent,t.next=39,a.getFees(e);case 39:p=t.sent,o={mint:i.mint,burn:p.burn};case 41:return t.abrupt("return",o);case 42:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.lockAndMint=function(){var t=Object(o.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new b.b(n.renVM,e,n._config)._initialize());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.burnAndRelease=function(){var t=Object(o.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new p.a(n.renVM,e,n._config)._initialize());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this._config=e||{},this._logger=e&&e.logger||new i.e(e&&e.logLevel||i.a.Error),this._config.logger=this._logger,this.renVM=t&&"string"!==typeof t&&t.sendMessage?t:new u.a(t||i.d.Mainnet,this._logger)}}m.Networks=i.d,m.utils={randomNonce:l.y,toSmallestUnit:l.G,fromSmallestUnit:l.m,fromAscii:e=>t.from(e)},m.defaultDepositHandler=d.a,m.default=m.RenJS=m;try{"function"===typeof define&&n(818)&&define((()=>m))}catch(f){}try{r.exports&&(r.exports=m)}catch(f){}try{"undefined"!==typeof window&&window&&(window.RenJS=m)}catch(f){}}).call(this,n(2).Buffer,n(848)(t))},792:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r,a=n(1),s=n.n(a),c=n(6),o=n(3),i=n(7),u=n(4),l=n(505),p=n.n(l),d=n(19),b=n.n(d);!function(t){t.Pending="pending",t.Burned="burned",t.Released="released",t.Reverted="reverted"}(r||(r={}));class m{constructor(e,n,a={}){var l=this;this.validateParams=()=>{Object(u.e)({from:"object | undefined",to:"object",transaction:"any | undefined",burnNonce:"string | number | undefined",contractCalls:"any[] | undefined",asset:"string",txHash:"string | undefined",nonce:"Buffer | string | undefined",tags:"string[] | undefined"},{params:this.params}),this.params.contractCalls&&this.params.contractCalls.map((t=>{Object(u.f)("string",{sendTo:t.sendTo,contractFn:t.contractFn})}))},this._initialize=Object(o.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=l._state.renNetwork,t.t0){t.next=7;break}return t.t1=i.h,t.next=5,l.renVM.getNetwork(l._state.selector);case 5:t.t2=t.sent,t.t0=(0,t.t1)(t.t2);case 7:if(l._state.renNetwork=t.t0,!l.params.from||l.params.from.renNetwork){t.next=11;break}return t.next=11,l.params.from.initialize(l._state.renNetwork);case 11:if(l.params.to.renNetwork){t.next=14;break}return t.next=14,l.params.to.initialize(l._state.renNetwork);case 14:if(t.t3=l.params.to.burnPayload,!t.t3){t.next=19;break}return t.next=18,l.params.to.burnPayload();case 18:t.t3=t.sent;case 19:if(e=t.t3,t.t4=l.params.from&&l.params.from.getBurnParams,!t.t4){t.next=25;break}return t.next=24,l.params.from.getBurnParams(l.params.asset,e);case 24:t.t4=t.sent;case 25:if(n=t.t4,l.params=Object(c.a)(Object(c.a)({},n),l.params),!(l.renVM.version(l._state.selector)>=2)){t.next=31;break}return t.next=30,l.renVM.selectPublicKey(l._state.selector,l.params.to.name);case 30:l._state.gPubKey=t.sent;case 31:return t.abrupt("return",l);case 32:case"end":return t.stop()}}),t)}))),this.refreshStatus=Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.status);case 1:case"end":return t.stop()}}),t)}))),this.confirmationTarget=Object(o.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(u.s)(l._state.targetConfirmations)){t.next=2;break}return t.abrupt("return",l._state.targetConfirmations);case 2:if(!(n=l.renVM.getConfirmationTarget)){t.next=7;break}return t.next=6,Object(u.A)(Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(l._state.selector,l.params.from));case 1:case"end":return t.stop()}}),t)}))),2);case 6:e=t.sent;case 7:return l._state.targetConfirmations=Object(u.s)(e)?e:6,t.abrupt("return",l._state.targetConfirmations);case 9:case"end":return t.stop()}}),t)}))),this.burn=()=>{const t=Object(i.i)();return Object(o.a)(s.a.mark((function e(){var n,a,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.params.txHash){e.next=2;break}return e.abrupt("return",l);case 2:if(l.params.from){e.next=4;break}throw new Error("Must either provide field `to` or field `txHash`.");case 4:return n=l.params,a=n.asset,c=n.transaction,o=n.burnNonce,i=n.contractCalls,e.next=7,l.params.from.findBurnTransaction(a,{transaction:c,burnNonce:o,contractCalls:i},t,l._state.logger,l._state.config.networkDelay);case 7:return l.burnDetails=e.sent,l.status=r.Burned,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})))().then(t.resolve).catch(t.reject),t},this.txHash=()=>{const e=this.params.txHash;if(e)return Object(u.z)(e,this.renVM.version(this._state.selector)>=2);if(!this.params.from)throw new Error("Must either provide field `to` or field `txHash`.");if(!this.burnDetails)throw new Error("Must call `burn` before calling `txHash`.");if(this.renVM.version(this._state.selector)>=2&&this.renVM.burnTxHash){const e=this.burnDetails,n=e.transaction,r=e.amount,a=e.to,s=e.nonce,c=t.from([]),o=Object(u.q)([],this._state.logger),i=this.params.from.transactionRPCFormat(n,!0),l=i.txid,d=i.txindex,b=new p.a(s.toFixed()).toArrayLike(t,"be",32),m=Object(u.p)(b,l,d,this.renVM.version(this._state.selector)>=2,this._state.logger),f=Object(u.r)("".concat(this.params.asset,"/to").concat(this.params.to.name)),h=Object(u.o)([],Object(u.b)(this.params.to.addressStringToBytes(a)),Object(u.b)(f),b,this.renVM.version(this._state.selector)>=2,this._state.logger),g=this._state.gPubKey;if(!g)throw new Error("BurnAndRelease object must be initialized.");return Object(u.H)(this.renVM.burnTxHash({selector:this._state.selector,gHash:h,gPubKey:g,nHash:m,nonce:b,output:{txid:l,txindex:d},amount:r.toFixed(),payload:c,pHash:o,to:a.toString()}))}return Object(u.F)(Object(u.n)(this._state.selector,this.burnDetails.nonce.toFixed(),this._state.logger))},this.queryTx=Object(o.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.renVM.queryMintOrBurn(l._state.selector,Object(u.k)(l.txHash()));case 2:return e=t.sent,l._state.queryTxResult=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),this.release=()=>{const e=Object(i.i)();return Object(o.a)(s.a.mark((function n(){var a,c,o,i,d,m,f,h,g,x,j,k,w,v,y,O,E,T,C,N,B,M;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.burnDetails||l.params.txHash){n.next=2;break}throw new Error("Must call `burn` before calling `release`.");case 2:if(a=l.txHash(),l.params.txHash||!l.burnDetails){n.next=41;break}if(l.params.from){n.next=6;break}throw new Error("Must either provide field `to` or field `txHash`.");case 6:if(!(l.params.tags&&l.params.tags.length>1)){n.next=8;break}throw new Error("Providing multiple tags is not supported yet.");case 8:if(c=l.params.tags&&l.params.tags.length?[l.params.tags[0]]:[],o=l.burnDetails,i=o.transaction,d=o.amount,m=o.to,f=o.nonce,n.prev=10,!(l.renVM.version(l._state.selector)>=2)){n.next=30;break}if(Object(u.f)("string",{to:m}),g=l._state.gPubKey){n.next=16;break}throw new Error("BurnAndRelease object must be initialized.");case 16:return x=t.from([]),j=Object(u.q)([],l._state.logger),k=l.params.from.transactionRPCFormat(i,!0),w=k.txid,v=k.txindex,y=new p.a(f.toFixed()).toArrayLike(t,"be",32),O=Object(u.p)(y,w,v,l.renVM.version(l._state.selector)>=2,l._state.logger),E=Object(u.r)("".concat(l.params.asset,"/to").concat(l.params.to.name)),T=Object(u.o)([],Object(u.b)(l.params.to.addressStringToBytes(m)),Object(u.b)(E),y,l.renVM.version(l._state.selector)>=2,l._state.logger),n.t0=u.H,n.next=26,l.renVM.submitBurn({selector:l._state.selector,tags:c,gHash:T,gPubKey:g,nHash:O,nonce:y,output:{txid:w,txindex:v},amount:d.toFixed(),payload:x,pHash:j,to:m.toString(),burnNonce:new b.a(0)});case 26:n.t1=n.sent,h=(0,n.t0)(n.t1),n.next=35;break;case 30:return n.t2=u.F,n.next=33,l.renVM.submitBurn({selector:l._state.selector,tags:c,burnNonce:f,gHash:t.from([]),gPubKey:t.from([]),nHash:t.from([]),nonce:t.from([]),output:{txid:t.from([]),txindex:""},amount:"",payload:t.from([]),pHash:t.from([]),to:""});case 33:n.t3=n.sent,h=(0,n.t2)(n.t3);case 35:a&&a!==h&&l._state.logger.warn("Unexpected txHash returned from RenVM. Received: ".concat(h,", expected: ").concat(a)),n.next=41;break;case 38:throw n.prev=38,n.t4=n.catch(10),n.t4;case 41:return e.emit("txHash",a),l._state.logger.debug("txHash:",a),n.next=45,l.renVM.waitForTX(l._state.selector,Object(u.k)(a),(t=>{e.emit("status",t),l._state.logger.debug("transaction status:",t)}),(()=>e._isCancelled()),l._state.config.networkDelay);case 45:if(!(C=n.sent).out||void 0===C.out.revert){n.next=52;break}throw l.status=r.Reverted,l.revertReason=C.out.revert.toString(),new Error(l.revertReason);case 52:if(l.status=r.Released,!(C.out&&l.renVM.version(l._state.selector)>=2)){n.next=73;break}if(n.prev=54,!C.out.txid){n.next=62;break}return w=C.out.txid,n.next=59,l.params.to.transactionFromID(w,"",!0);case 59:i=n.sent,n.next=67;break;case 62:if(!C.out.outpoint){n.next=67;break}return N=C.out.outpoint,B=N.hash,M=N.index,n.next=66,l.params.to.transactionFromID(B,M.toFixed(),!0);case 66:i=n.sent;case 67:n.next=72;break;case 69:n.prev=69,n.t5=n.catch(54),l._state.logger.debug(n.t5);case 72:i&&(l.releaseTransaction=i,e.emit("transaction",i));case 73:return n.abrupt("return",C);case 74:case"end":return n.stop()}}),n,null,[[10,38],[54,69]])})))().then(e.resolve).catch(e.reject),e},this.params=n,this.renVM=e,this._state={logger:a.logger||i.b,selector:this.renVM.selector(this.params),targetConfirmations:void 0,config:Object(c.a)(Object(c.a)({},a),{},{networkDelay:a.networkDelay||15*u.c})},this.validateParams(),this.status=this.params.txHash?r.Burned:r.Pending;{const t=Object.assign({},this.params);this._state.logger.debug("burnAndRelease created:",t)}}}}).call(this,n(2).Buffer)},793:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),a=n.n(r),s=n(3),c=n(4),o=n(157);const i=(t=-1)=>{const e=function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.status===o.a.Submitted){e.next=16;break}e.t0=n.status,e.next=e.t0===o.a.Detected?4:e.t0===o.a.Confirmed?7:e.t0===o.a.Signed?10:e.t0===o.a.Reverted?13:14;break;case 4:return e.next=6,Object(c.A)(Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n._state.logger.log("Calling .confirmed"),t.next=3,n.confirmed().on("target",(t=>{n._state.logger.log("Waiting for ".concat(t," confirmations"))})).on("confirmation",((t,e)=>{n._state.logger.log("".concat(t,"/").concat(e," confirmations"))}));case 3:case"end":return t.stop()}}),t)}))),t,10*c.c,n._state.logger);case 6:return e.abrupt("break",14);case 7:return e.next=9,Object(c.A)(Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n._state.logger.log("Calling .signed"),t.next=4,n.signed().on("txHash",(t=>{n._state.logger.log("RenVM hash: ".concat(t))})).on("status",(t=>{n._state.logger.log("status: ".concat(t))}));case 4:t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(0),n.status!==o.a.Reverted){t.next=10;break}return t.abrupt("return");case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,6]])}))),t,10*c.c,n._state.logger);case 9:return e.abrupt("break",14);case 10:return e.next=12,Object(c.A)(Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n._state.logger.log("Calling .mint"),t.next=4,n.mint().on("transactionHash",(t=>{n._state.logger.log("txHash: ".concat(n.params.to.utils.transactionExplorerLink&&n.params.to.utils.transactionExplorerLink(t)||String(t)))}));case 4:t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!/(execution reverted)|(Transaction has been reverted)/.exec(t.t0.message||String(t.t0))){t.next=12;break}return n.status=o.a.Reverted,n.revertReason=t.t0.message||String(t.t0),t.abrupt("return");case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,6]])}))),t,10*c.c,n._state.logger);case 12:return e.abrupt("break",14);case 13:throw new Error("RenVM transaction reverted".concat(n.revertReason?": "+n.revertReason:""));case 14:e.next=0;break;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e.withRetries=t=>i(t),e},u=i()},804:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=n(5),a=n(1),s=n.n(a),c=n(3),o=n(17),i=n(0),u=n(805),l=n.n(u),p=n(85),d=n(66),b=n(806);const m=({text:t})=>{const e=i.useState(!1),n=Object(o.a)(e,2),a=n[0],s=n[1],c=i.useCallback((()=>{a||(s(!0),setTimeout((()=>s(!1)),2e3))}),[s,a]);return Object(r.jsx)(l.a,{text:t,onClick:c,children:Object(r.jsx)("span",{onClick:c,className:"copy ".concat(a?"copied":""),children:a?"Copied":t})})},f=({asset:e,mintChain:n,renJS:a,mintChainProvider:u,startMint:l,connectMintChain:f,addDeposit:h,getDefaultMintChainAddress:g,addressIsValid:x})=>{const j=i.useState(null),k=Object(o.a)(j,2),w=k[0],v=k[1],y=i.useState(null),O=Object(o.a)(y,2),E=O[0],T=O[1],C=i.useState(!1),N=Object(o.a)(C,2),B=N[0],M=N[1],D=i.useState(null),A=Object(o.a)(D,2),S=A[0],F=A[1],R=i.useState(null),P=Object(o.a)(R,2),H=P[0],V=P[1],I=i.useCallback(function(){var t=Object(c.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),M(!0),F(null),u){t.next=5;break}return t.abrupt("return");case 5:if(E){t.next=8;break}return v("Please enter a valid ".concat(n," address.")),t.abrupt("return");case 8:return v(null),t.prev=9,t.next=12,l(a,n,u,e,E,F,V,h);case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(9),console.error(t.t0),v(String(t.t0.message||t.t0.error||JSON.stringify(t.t0)));case 18:M(!1);case 19:case"end":return t.stop()}}),t,null,[[9,14]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,E,u,h,n,l]),U=i.useCallback(Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=3;break}return v("Please use a Web3 browser"),t.abrupt("return");case 3:return t.prev=3,t.t0=T,t.next=7,g();case 7:t.t1=t.sent,(0,t.t0)(t.t1),t.next=14;break;case 11:t.prev=11,t.t2=t.catch(3),console.error(t.t2);case 14:case"end":return t.stop()}}),t,null,[[3,11]])}))),[u,T,g]),_=i.useMemo((()=>!!E&&x(E)),[E,x]);return Object(r.jsxs)("form",{onSubmit:I,className:B?"disabled":"",children:[Object(r.jsxs)("div",{className:"send",children:[Object(r.jsx)("input",{className:"no-right-border",value:E||"",onChange:t=>{T(t.target.value)},placeholder:"Recipient (".concat(d.a.isTestnet?"testnet":""," ").concat(n," address)")}),Object(r.jsx)("div",{role:"button",className:"box box-action no-left-border ".concat(u?"":"disabled"),onClick:u?U:void 0,children:Object(r.jsx)(b.a,{})})]}),Object(r.jsx)("div",{className:"send",children:u?Object(r.jsx)("button",{disabled:B||!_,type:"submit",className:"button blue ".concat(B||!_?"disabled":""),children:B?Object(r.jsx)(p.a,{alt:!0}):Object(r.jsx)(r.Fragment,{children:"Mint"})}):Object(r.jsxs)("button",{type:"button",className:"button light-blue",onClick:f,children:["Connect ",n," wallet"]})}),S?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"deposit-address",children:["Deposit"," ",H?Object(r.jsxs)(r.Fragment,{children:["at least ",H]}):null," ",Object(r.jsx)("b",{children:e})," to","string"===typeof S?Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Address:"})," ",Object(r.jsx)(m,{text:S})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Address:"})," ",Object(r.jsx)(m,{text:S.address})]}),S.params?Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"Params:"}),Object(r.jsxs)("p",{children:["Base64:"," ",Object(r.jsx)(m,{text:S.params})]}),Object(r.jsxs)("p",{children:["Hex:"," ",Object(r.jsx)(m,{text:t.from(S.params,"base64").toString("hex")})]})]}):null,S.memo?Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"Params:"}),Object(r.jsx)("p",{children:Object(r.jsx)(m,{text:S.memo})})]}):null]})]}),Object(r.jsxs)("div",{className:"deposit-loading",children:["Watching for deposits..."," ",Object(r.jsx)(p.a,{style:{display:"inline-block"}})]})]}):null,w?Object(r.jsx)("p",{className:"box red",children:w}):Object(r.jsx)(r.Fragment,{})]})}}).call(this,n(2).Buffer)},806:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var c=r.createElement("style",{type:"text/css"},"\n\t.metamask-st0{fill:#161616;stroke:#161616;}\n\t.metamask-st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st2{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st3{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st4{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st5{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st6{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st7{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st8{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st9{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}\n\t.metamask-st10{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}\n"),o=r.createElement("polygon",{className:"metamask-st0",points:"277.3,145.6 272.3,142 280.3,134.7 274.2,129.9 282.2,123.8 276.9,119.8 285.3,79 272.7,41.1  191.6,71.4 124.1,71.4 43,41.1 30.4,79 38.9,119.8 33.5,123.8 41.5,129.9 35.4,134.7 43.4,142 38.4,145.6 49.9,159.1 32.5,213.3  48.6,268.6 105.3,253 116.3,262 138.7,277.5 177,277.5 199.4,262 210.4,253 267.1,268.6 283.3,213.3 265.8,159.1 "}),i=r.createElement("g",null,r.createElement("polygon",{className:"metamask-st1",points:"105.3,253 48.6,268.6 32.5,213.3  "}),r.createElement("polygon",{className:"metamask-st1",points:"283.3,213.3 267.1,268.6 210.4,253  "}),r.createElement("polygon",{className:"metamask-st2",points:"265.8,159.1 213.5,143.8 231.8,139  "}),r.createElement("polygon",{className:"metamask-st2",points:"49.9,159.1 84,139 102.2,143.8  "}),r.createElement("polygon",{className:"metamask-st2",points:"43.4,142 41.5,129.9 84,139  "}),r.createElement("polygon",{className:"metamask-st2",points:"272.3,142 231.8,139 274.2,129.9  "}),r.createElement("polygon",{className:"metamask-st2",points:"272.3,142 265.8,159.1 231.8,139  "}),r.createElement("polygon",{className:"metamask-st2",points:"43.4,142 84,139 49.9,159.1  "}),r.createElement("polygon",{className:"metamask-st2",points:"231.8,139 276.9,119.8 274.2,129.9  "}),r.createElement("polygon",{className:"metamask-st2",points:"84,139 41.5,129.9 38.9,119.8  "}),r.createElement("polygon",{className:"metamask-st3",points:"124.1,71.4 191.6,71.4 176.5,112.5  "}),r.createElement("polygon",{className:"metamask-st3",points:"176.5,112.5 139.2,112.5 124.1,71.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"276.9,119.8 231.8,139 231,87.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"102.2,143.8 84,139 84.7,87.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"84.7,87.4 84,139 38.9,119.8  "}),r.createElement("polygon",{className:"metamask-st2",points:"231,87.4 231.8,139 213.5,143.8  "}),r.createElement("polygon",{className:"metamask-st1",points:"139.2,112.5 43,41.1 124.1,71.4  "}),r.createElement("polygon",{className:"metamask-st4",points:"272.7,41.1 176.5,112.5 191.6,71.4  "}),r.createElement("polygon",{className:"metamask-st1",points:"210.4,253 236.9,213.3 283.3,213.3  "}),r.createElement("polygon",{className:"metamask-st1",points:"32.5,213.3 78.9,213.3 105.3,253  "}),r.createElement("polygon",{className:"metamask-st3",points:"229.3,167.7 283.3,213.3 236.9,213.3  "}),r.createElement("polygon",{className:"metamask-st3",points:"86.4,167.7 32.5,213.3 49.9,159.1  "}),r.createElement("polygon",{className:"metamask-st3",points:"78.9,213.3 32.5,213.3 86.4,167.7  "}),r.createElement("polygon",{className:"metamask-st3",points:"229.3,167.7 265.8,159.1 283.3,213.3  "}),r.createElement("polygon",{className:"metamask-st2",points:"84.7,87.4 139.2,112.5 102.2,143.8  "}),r.createElement("polygon",{className:"metamask-st2",points:"213.5,143.8 176.5,112.5 231,87.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"265.8,159.1 272.3,142 277.3,145.6  "}),r.createElement("polygon",{className:"metamask-st2",points:"49.9,159.1 38.4,145.6 43.4,142  "}),r.createElement("polygon",{className:"metamask-st2",points:"272.3,142 274.2,129.9 280.3,134.7  "}),r.createElement("polygon",{className:"metamask-st2",points:"43.4,142 35.4,134.7 41.5,129.9  "}),r.createElement("polygon",{className:"metamask-st2",points:"33.5,123.8 38.9,119.8 41.5,129.9  "}),r.createElement("polygon",{className:"metamask-st2",points:"282.2,123.8 274.2,129.9 276.9,119.8  "}),r.createElement("polygon",{className:"metamask-st3",points:"49.9,159.1 102.2,143.8 86.4,167.7  "}),r.createElement("polygon",{className:"metamask-st3",points:"265.8,159.1 229.3,167.7 213.5,143.8  "}),r.createElement("polygon",{className:"metamask-st2",points:"38.9,119.8 30.4,79 84.7,87.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"231,87.4 285.3,79 276.9,119.8  "}),r.createElement("polygon",{className:"metamask-st1",points:"102.2,143.8 139.2,112.5 142.6,170.2  "}),r.createElement("polygon",{className:"metamask-st1",points:"213.5,143.8 229.3,167.7 173.1,170.2  "}),r.createElement("polygon",{className:"metamask-st1",points:"173.1,170.2 176.5,112.5 213.5,143.8  "}),r.createElement("polygon",{className:"metamask-st1",points:"142.6,170.2 86.4,167.7 102.2,143.8  "}),r.createElement("polygon",{className:"metamask-st2",points:"272.7,41.1 285.3,79 231,87.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"43,41.1 139.2,112.5 84.7,87.4  "}),r.createElement("polygon",{className:"metamask-st2",points:"231,87.4 176.5,112.5 272.7,41.1  "}),r.createElement("polygon",{className:"metamask-st2",points:"84.7,87.4 30.4,79 43,41.1  "}),r.createElement("polygon",{className:"metamask-st5",points:"105.3,253 78.9,213.3 110,213.7  "}),r.createElement("polygon",{className:"metamask-st5",points:"210.4,253 205.7,213.7 236.9,213.3  "}),r.createElement("polygon",{className:"metamask-st3",points:"173.1,170.2 142.6,170.2 139.2,112.5  "}),r.createElement("polygon",{className:"metamask-st3",points:"139.2,112.5 176.5,112.5 173.1,170.2  "}),r.createElement("polygon",{className:"metamask-st6",points:"116.3,262 105.3,253 136.8,267.9  "}),r.createElement("polygon",{className:"metamask-st6",points:"178.9,267.9 210.4,253 199.4,262  "}),r.createElement("polygon",{className:"metamask-st7",points:"136.6,258.6 136.8,267.9 105.3,253  "}),r.createElement("polygon",{className:"metamask-st7",points:"179.2,258.6 210.4,253 178.9,267.9  "}),r.createElement("polygon",{className:"metamask-st3",points:"86.4,167.7 110,213.7 78.9,213.3  "}),r.createElement("polygon",{className:"metamask-st3",points:"236.9,213.3 205.7,213.7 229.3,167.7  "}),r.createElement("polygon",{className:"metamask-st8",points:"86.4,167.7 109.2,190.8 110,213.7  "}),r.createElement("polygon",{className:"metamask-st8",points:"229.3,167.7 205.7,213.7 206.6,190.8  "}),r.createElement("polygon",{className:"metamask-st7",points:"105.3,253 139.2,236.5 136.6,258.6  "}),r.createElement("polygon",{className:"metamask-st7",points:"210.4,253 179.2,258.6 176.5,236.5  "}),r.createElement("polygon",{className:"metamask-st1",points:"139.2,236.5 105.3,253 110,213.7  "}),r.createElement("polygon",{className:"metamask-st1",points:"176.5,236.5 205.7,213.7 210.4,253  "}),r.createElement("polygon",{className:"metamask-st5",points:"173.1,170.2 229.3,167.7 206.6,190.8  "}),r.createElement("polygon",{className:"metamask-st5",points:"109.2,190.8 86.4,167.7 142.6,170.2  "}),r.createElement("polygon",{className:"metamask-st5",points:"142.6,170.2 129.1,181.7 109.2,190.8  "}),r.createElement("polygon",{className:"metamask-st5",points:"206.6,190.8 186.6,181.7 173.1,170.2  "}),r.createElement("polygon",{className:"metamask-st3",points:"205.7,213.7 178.3,199.1 206.6,190.8  "}),r.createElement("polygon",{className:"metamask-st3",points:"110,213.7 109.2,190.8 137.4,199.1  "}),r.createElement("polygon",{className:"metamask-st9",points:"137.4,199.1 109.2,190.8 129.1,181.7  "}),r.createElement("polygon",{className:"metamask-st9",points:"178.3,199.1 186.6,181.7 206.6,190.8  "}),r.createElement("polygon",{className:"metamask-st5",points:"186.6,181.7 178.3,199.1 173.1,170.2  "}),r.createElement("polygon",{className:"metamask-st5",points:"129.1,181.7 142.6,170.2 137.4,199.1  "}),r.createElement("polygon",{className:"metamask-st6",points:"199.4,262 177,277.5 178.9,267.9  "}),r.createElement("polygon",{className:"metamask-st6",points:"136.8,267.9 138.7,277.5 116.3,262  "}),r.createElement("polygon",{className:"metamask-st4",points:"178.3,199.1 171.8,188.4 173.1,170.2  "}),r.createElement("polygon",{className:"metamask-st8",points:"137.4,199.1 142.6,170.2 143.9,188.4  "}),r.createElement("polygon",{className:"metamask-st3",points:"173.1,170.2 171.8,188.4 143.9,188.4  "}),r.createElement("polygon",{className:"metamask-st3",points:"143.9,188.4 142.6,170.2 173.1,170.2  "}),r.createElement("polygon",{className:"metamask-st3",points:"178.3,199.1 205.7,213.7 176.5,236.5  "}),r.createElement("polygon",{className:"metamask-st3",points:"139.2,236.5 110,213.7 137.4,199.1  "}),r.createElement("polygon",{className:"metamask-st3",points:"137.4,199.1 144,233.2 139.2,236.5  "}),r.createElement("polygon",{className:"metamask-st3",points:"176.5,236.5 171.7,233.2 178.3,199.1  "}),r.createElement("polygon",{className:"metamask-st8",points:"171.8,188.4 178.3,199.1 171.7,233.2  "}),r.createElement("polygon",{className:"metamask-st8",points:"143.9,188.4 144,233.2 137.4,199.1  "}),r.createElement("polygon",{className:"metamask-st3",points:"143.9,188.4 171.8,188.4 171.7,233.2  "}),r.createElement("polygon",{className:"metamask-st3",points:"171.7,233.2 144,233.2 143.9,188.4  "}),r.createElement("polygon",{className:"metamask-st6",points:"179.2,258.6 178.9,267.9 177,277.5  "}),r.createElement("polygon",{className:"metamask-st6",points:"138.7,277.5 136.8,267.9 136.6,258.6  "}),r.createElement("polygon",{className:"metamask-st6",points:"136.6,258.6 139,256.4 138.7,277.5  "}),r.createElement("polygon",{className:"metamask-st6",points:"177,277.5 176.7,256.4 179.2,258.6  "}),r.createElement("polygon",{className:"metamask-st6",points:"138.7,277.5 139,256.4 176.7,256.4  "}),r.createElement("polygon",{className:"metamask-st6",points:"176.7,256.4 177,277.5 138.7,277.5  "}),r.createElement("polygon",{className:"metamask-st10",points:"176.5,236.5 179.2,258.6 176.7,256.4  "}),r.createElement("polygon",{className:"metamask-st10",points:"139,256.4 136.6,258.6 139.2,236.5  "}),r.createElement("polygon",{className:"metamask-st10",points:"139.2,236.5 140.7,241.2 139,256.4  "}),r.createElement("polygon",{className:"metamask-st10",points:"176.7,256.4 175,241.2 176.5,236.5  "}),r.createElement("polygon",{className:"metamask-st10",points:"143.7,237.7 140.7,241.2 139.2,236.5  "}),r.createElement("polygon",{className:"metamask-st10",points:"176.5,236.5 175,241.2 172,237.7  "}),r.createElement("polygon",{className:"metamask-st10",points:"172,237.7 171.7,233.2 176.5,236.5  "}),r.createElement("polygon",{className:"metamask-st10",points:"139.2,236.5 144,233.2 143.7,237.7  "}),r.createElement("polygon",{className:"metamask-st10",points:"171.7,233.2 172,237.7 143.7,237.7  "}),r.createElement("polygon",{className:"metamask-st10",points:"143.7,237.7 144,233.2 171.7,233.2  "}),r.createElement("polygon",{className:"metamask-st10",points:"140.7,241.2 175,241.2 176.7,256.4  "}),r.createElement("polygon",{className:"metamask-st10",points:"176.7,256.4 139,256.4 140.7,241.2  "}),r.createElement("polygon",{className:"metamask-st10",points:"140.7,241.2 143.7,237.7 172,237.7  "}),r.createElement("polygon",{className:"metamask-st10",points:"172,237.7 175,241.2 140.7,241.2  "}));function u(t,e){let n=t.title,u=t.titleId,l=s(t,["title","titleId"]);return r.createElement("svg",a({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 318.6 318.6",style:{enableBackground:"new 0 0 318.6 318.6"},xmlSpace:"preserve",ref:e,"aria-labelledby":u},l),n?r.createElement("title",{id:u},n):null,c,o,i)}const l=r.forwardRef(u);n.p},809:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var r={};n.r(r),n.d(r,"RenVMType",(function(){return o.a})),n.d(r,"RPCMethod",(function(){return i.a})),n.d(r,"generateMintTxHash",(function(){return u.b})),n.d(r,"RenVMProvider",(function(){return u.a})),n.d(r,"unmarshalMintTx",(function(){return l.c})),n.d(r,"unmarshalBurnTx",(function(){return l.a})),n.d(r,"unmarshalFees",(function(){return l.b}));var a={};n.r(a),n.d(a,"RenVMType",(function(){return s})),n.d(a,"RPCMethod",(function(){return c})),n.d(a,"resolveV2Contract",(function(){return y})),n.d(a,"RenVMProvider",(function(){return O})),n.d(a,"burnParamsType",(function(){return j.a})),n.d(a,"mintParamsType",(function(){return j.c})),n.d(a,"hashTransaction",(function(){return j.b})),n.d(a,"unmarshalMintTx",(function(){return w})),n.d(a,"unmarshalBurnTx",(function(){return v})),n.d(a,"marshalPackType",(function(){return E.d})),n.d(a,"marshalUint",(function(){return E.o})),n.d(a,"marshalU8",(function(){return E.n})),n.d(a,"marshalU16",(function(){return E.j})),n.d(a,"marshalU32",(function(){return E.l})),n.d(a,"marshalU64",(function(){return E.m})),n.d(a,"marshalU128",(function(){return E.i})),n.d(a,"marshalU256",(function(){return E.k})),n.d(a,"marshalString",(function(){return E.g})),n.d(a,"marshalPackStructType",(function(){return E.c})),n.d(a,"marshalPackTypeDefinition",(function(){return E.e})),n.d(a,"marshalPackPrimitive",(function(){return E.a})),n.d(a,"marshalPackStruct",(function(){return E.b})),n.d(a,"marshalPackValue",(function(){return E.f})),n.d(a,"marshalTypedPackValue",(function(){return E.h})),n.d(a,"PackPrimitive",(function(){return k.a})),n.d(a,"unmarshalPackPrimitive",(function(){return k.b})),n.d(a,"unmarshalPackStruct",(function(){return k.c})),n.d(a,"unmarshalPackValue",(function(){return k.d})),n.d(a,"unmarshalTypedPackValue",(function(){return k.e}));var s,c,o=n(27),i=n(88),u=n(514),l=n(250);!function(t){t.Address="address",t.Str="str",t.B32="b32",t.B="b",t.I8="i8",t.I16="i16",t.I32="i32",t.I64="i64",t.I128="i128",t.I256="i256",t.U8="u8",t.U16="u16",t.U32="u32",t.U64="u64",t.U128="u128",t.U256="u256",t.Record="record",t.List="list",t.ExtTypeEthCompatAddress="ext_ethCompatAddress",t.ExtTypeBtcCompatUTXO="ext_btcCompatUTXO",t.ExtTypeBtcCompatUTXOs="ext_btcCompatUTXOs",t.ExtTypeEthCompatTx="ext_ethCompatTx",t.ExtEthCompatPayload="ext_ethCompatPayload"}(s||(s={})),function(t){t.SubmitTx="ren_submitTx",t.QueryTx="ren_queryTx",t.QueryTxs="ren_queryTxs",t.QueryBlock="ren_queryBlock",t.QueryBlocks="ren_queryBlocks",t.QueryConfig="ren_queryConfig",t.QueryState="ren_queryState"}(c||(c={}));var p=n(1),d=n.n(p),b=n(3),m=n(7),f=n(387),h=n(4),g=n(19),x=n.n(g),j=n(297),k=n(20);const w=t=>{let e;Object(h.d)(null!==/\/to/.exec(t.tx.selector),"Expected mint details but got back burn details (".concat(t.tx.hash," - ").concat(t.tx.selector,")"));const n=Object(k.e)(t.tx.in);if(t.tx.out&&(e=Object(k.e)(t.tx.out),e.revert&&0===e.revert.length&&(e.revert=void 0),e.sig)){const t=[e.sig.slice(0,32),e.sig.slice(32,64),e.sig[64]%27],r=t[0],a=t[1],s=t[2];e.signature=Object(h.C)(Object(h.j)(r,a,s)),e.nhash=n.nhash}return{hash:t.tx.hash,txStatus:t.txStatus,to:t.tx.selector,in:n,out:e}},v=t=>{let e;return Object(h.d)(null!==/\/from/.exec(t.tx.selector),"Expected burn details but got back mint details (".concat(t.tx.hash," - ").concat(t.tx.selector,")")),t.tx.out&&(e=Object(k.e)(t.tx.out)),{hash:t.tx.hash,to:t.tx.selector,in:Object(k.e)(t.tx.in),txStatus:t.txStatus,out:e}},y=({asset:t,from:e,to:n})=>e.assetIsNative&&e.assetIsNative(t)?"".concat(t,"/to").concat(n.name):n.assetIsNative&&n.assetIsNative(t)?"".concat(t,"/from").concat(e.name):"".concat(t,"/from").concat(e.name,"To").concat(n.name);class O{constructor(t,e,n=m.b){var r=this;if(this.version=()=>2,this.selector=t=>y(t),this.queryBlock=function(){var t=Object(b.a)(d.a.mark((function t(e,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.QueryBlock,{blockHeight:e},n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.queryBlocks=function(){var t=Object(b.a)(d.a.mark((function t(e,n,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.QueryBlocks,{blockHeight:e,n:n},a));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),this.submitTx=function(){var t=Object(b.a)(d.a.mark((function t(e,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.SubmitTx,{tx:e},n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.queryTx=function(){var t=Object(b.a)(d.a.mark((function t(e,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.QueryTx,{txHash:e},n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.queryTxs=function(){var t=Object(b.a)(d.a.mark((function t(e,n,a,s,o){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.QueryTxs,{tags:e,page:(n||0).toString(),pageSize:(a||0).toString(),txStatus:s},o));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a,s){return t.apply(this,arguments)}}(),this.queryConfig=function(){var t=Object(b.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.QueryConfig,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.queryState=function(){var t=Object(b.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.sendMessage(c.QueryState,{},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.buildTransaction=({selector:t,gHash:e,gPubKey:n,nHash:r,nonce:a,output:s,amount:c,payload:o,pHash:i,to:u})=>{Object(h.f)("Buffer",{gHash:e,gPubKey:n,nHash:r,nonce:a,payload:o,pHash:i,txid:s.txid}),Object(h.f)("string",{to:u,amount:c,txindex:s.txindex});const l={t:Object(j.c)(),v:{txid:Object(h.H)(s.txid),txindex:s.txindex,ghash:Object(h.H)(e),gpubkey:Object(h.H)(n),nhash:Object(h.H)(r),nonce:Object(h.H)(a),payload:Object(h.H)(o),phash:Object(h.H)(i),to:u,amount:c}};return{hash:Object(h.H)(Object(j.b)("1",t,l)),selector:t,version:"1",in:l}},this.mintTxHash=t=>Object(h.k)(this.buildTransaction(t).hash),this.submitMint=function(){var t=Object(b.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.buildTransaction(e),t.next=3,r.submitTx(n);case 3:return t.abrupt("return",Object(h.k)(n.hash));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.burnTxHash=this.mintTxHash,this.submitBurn=this.submitMint,this.queryMintOrBurn=function(){var t=Object(b.a)(d.a.mark((function t(e,n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.queryTx(Object(h.H)(n));case 3:if(a=t.sent,!/((\/to)|(To))/.exec(a.tx.selector)){t.next=9;break}return t.abrupt("return",w(a));case 9:return t.abrupt("return",v(a));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}(),this.waitForTX=function(){var t=Object(b.a)(d.a.mark((function t(e,n,a,s,c){var o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(h.f)("Buffer",{utxoTxHash:n});case 1:if(!s||!s()){t.next=4;break}throw new Error("waitForTX cancelled.");case 4:return t.prev=4,t.next=7,r.queryMintOrBurn(e,n);case 7:if(!(i=t.sent)||i.txStatus!==m.f.TxStatusDone){t.next=13;break}return o=i,t.abrupt("break",23);case 13:a&&i&&i.txStatus&&a(i.txStatus);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),/(not found)|(not available)/.exec(String((t.t0||{}).message))||r.logger.error(String(t.t0));case 19:return t.next=21,Object(h.D)(Object(h.s)(c)?c:15*h.c);case 21:t.next=1;break;case 23:return t.abrupt("return",o);case 24:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e,n,r,a,s){return t.apply(this,arguments)}}(),this.selectPublicKey=function(){var t=Object(b.a)(d.a.mark((function t(e,n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.queryState(5);case 2:return a=t.sent,t.abrupt("return",Object(h.k)(a.state[n].pubKey));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.getNetwork=function(){var t=Object(b.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.network);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getConfirmationTarget=function(){var t=Object(b.a)(d.a.mark((function t(e,n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.sendMessage(c.QueryConfig,{});case 2:return a=t.sent,t.abrupt("return",parseInt(a.confirmations[n.name],10));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.estimateTransactionFee=function(){var t=Object(b.a)(d.a.mark((function t(e,n){var a,s,o,i,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.sendMessage(c.QueryState,{});case 2:if((a=t.sent).state[n.name]){t.next=5;break}throw new Error("No fee details found for ".concat(n.name));case 5:return s=a.state[n.name],o=s.gasLimit,i=s.gasCap,u=new x.a(o).times(new x.a(i)),t.abrupt("return",{lock:u,release:u});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),!e||"string"===typeof e){const r=e||(Object(m.h)(t)||{}).lightnode;try{e=new f.a(r,n)}catch(a){if(/Invalid node URL/.exec(String(a&&a.message)))throw new Error('Invalid network or provider URL: "'.concat((Object(m.h)(t)||{}).name||String(t),'"'));throw a}}this.network=t,this.logger=n,this.provider=e,this.sendMessage=this.provider.sendMessage}}var E=n(251);const T=t=>["BTC0Btc2Eth","BTC0Eth2Btc","ZEC0Zec2Eth","ZEC0Eth2Zec","BCH0Bch2Eth","BCH0Eth2Bch"].indexOf(t)>=0;class C{constructor(t,e=m.b){var n=this;let r,a;switch(this.selector=t=>{const e=this.v1&&this.v1.selector(t);return e&&T(e)?e:this.v2.selector(t)},this.version=t=>T(t)?1:2,this.mintTxHash=t=>this.v1&&T(t.selector)?this.v1.mintTxHash(t):this.v2.mintTxHash(t),this.submitMint=t=>this.v1&&T(t.selector)?this.v1.submitMint(t):this.v2.submitMint(t),this.burnTxHash=t=>{if(T(t.selector))throw new Error("Fetching burn txHash is not supported for ".concat(t.selector));return this.v2.burnTxHash(t)},this.submitBurn=t=>this.v1&&T(t.selector)?this.v1.submitBurn(t):this.v2.submitBurn(t),this.queryMintOrBurn=(t,e)=>this.v1&&T(t)?this.v1.queryMintOrBurn(t,e):this.v2.queryMintOrBurn(t,e),this.waitForTX=(t,e,n,r,a)=>this.v1&&T(t)?this.v1.waitForTX(t,e,n,r,a):this.v2.waitForTX(t,e,n,r,a),this.selectPublicKey=(t,e)=>this.v1&&T(t)?this.v1.selectPublicKey(t,e):this.v2.selectPublicKey(t,e),this.getNetwork=t=>this.v1&&T(t)?this.v1.getNetwork(t):this.v2.getNetwork(t),this.getConfirmationTarget=function(){var t=Object(b.a)(d.a.mark((function t(e,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.v1&&T(e)?n.v1.getConfirmationTarget(e,r):n.v2.getConfirmationTarget(e,r));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.estimateTransactionFee=function(){var t=Object(b.a)(d.a.mark((function t(e,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.v1&&T(e)?n.v1.estimateTransactionFee(e,r):n.v2.estimateTransactionFee(e,r));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.network=Object(m.h)(t),this.network.name){case m.d.Mainnet:case m.d.Mainnet:case m.d.MainnetVDot3:case m.d.MainnetVDot3:r=m.d.Mainnet,a=m.d.MainnetVDot3;break;case m.d.Testnet:case m.d.Testnet:case m.d.TestnetVDot3:case m.d.TestnetVDot3:r=m.d.Testnet,a=m.d.TestnetVDot3;break;case m.d.DevnetVDot3:case m.d.DevnetVDot3:a=m.d.DevnetVDot3;break;default:r=t,a=t}r&&(this.v1=new u.a(r,void 0,e)),this.v2=new O(a,void 0,e),this.sendMessage=this.v2.sendMessage}}},832:function(t,e,n){},857:function(t,e){},88:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.MethodSubmitTx="ren_submitTx",t.MethodQueryTx="ren_queryTx",t.MethodQueryTxs="ren_queryTxs",t.MethodQueryBlock="ren_queryBlock",t.MethodQueryBlocks="ren_queryBlocks",t.MethodQueryNumPeers="ren_queryNumPeers",t.MethodQueryPeers="ren_queryPeers",t.MethodQueryShards="ren_queryShards",t.MethodQueryStat="ren_queryStat",t.MethodQueryFees="ren_queryFees"}(r||(r={}))},933:function(t,e){},940:function(t,e){},942:function(t,e){},951:function(t,e){},953:function(t,e){},977:function(t,e){},978:function(t,e){},983:function(t,e){},985:function(t,e){},992:function(t,e){}},[[1670,1,2]]]);
//# sourceMappingURL=main.93ebc181.chunk.js.map